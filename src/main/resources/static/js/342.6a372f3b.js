"use strict";(self["webpackChunkv2_client"]=self["webpackChunkv2_client"]||[]).push([[342],{342:function(o,e,t){t.r(e),t.d(e,{default:function(){return _}});var a=t(6768),s=t(5130);const r=o=>((0,a.Qi)("data-v-573c45a9"),o=o(),(0,a.jt)(),o),l={class:"container mt-5"},i={class:"row justify-content-center"},c={class:"col-md-6"},n=r((()=>(0,a.Lk)("h3",{class:"text-center"},"비밀번호 찾기",-1))),d={class:"form-group row"},m=r((()=>(0,a.Lk)("label",{for:"memail",class:"col-sm-4 col-form-label"},"아이디",-1))),u={class:"col-sm-11"},p={class:"form-group row"},f=r((()=>(0,a.Lk)("label",{for:"mtel",class:"col-sm-4 col-form-label"},"연락처",-1))),k={class:"col-sm-11"},w=r((()=>(0,a.Lk)("div",{class:"col-sm-12 text-right"},[(0,a.Lk)("button",{type:"submit",class:"btn btn-primary"},"확인")],-1))),b={class:"resultMessage text-center"},v={key:0},h={class:"form-group"},L={key:1},y={key:2},C={class:"form-group row"},P=r((()=>(0,a.Lk)("label",{for:"password",class:"col-sm-4 col-form-label"},"새 비밀번호",-1))),V={class:"col-sm-11"},g={class:"form-group row"},E=r((()=>(0,a.Lk)("label",{for:"confirmPassword",class:"col-sm-4 col-form-label"},"비밀번호 확인",-1))),M={class:"col-sm-11"},F={class:"form-group row"},q={class:"col-sm-12 text-center"};function x(o,e,t,r,x,A){return(0,a.uX)(),(0,a.CE)("div",l,[(0,a.Lk)("div",i,[(0,a.Lk)("div",c,[n,(0,a.Lk)("form",{onSubmit:e[2]||(e[2]=(0,s.D$)(((...o)=>A.findMyPw&&A.findMyPw(...o)),["prevent"]))},[(0,a.Lk)("div",d,[m,(0,a.Lk)("div",u,[(0,a.bo)((0,a.Lk)("input",{type:"email",class:"form-control",id:"memail","onUpdate:modelValue":e[0]||(e[0]=o=>x.memail=o),required:"",placeholder:"아이디를 입력하세요"},null,512),[[s.Jo,x.memail]])])]),(0,a.Lk)("div",p,[f,(0,a.Lk)("div",k,[(0,a.bo)((0,a.Lk)("input",{type:"tel","onUpdate:modelValue":e[1]||(e[1]=o=>x.mtel=o),class:"form-control",id:"mtel",pattern:"[0-9]{3}-[0-9]{4}-[0-9]{4}",required:"",placeholder:"예시: 010-1234-5678"},null,512),[[s.Jo,x.mtel]])]),w])],32),(0,a.Lk)("div",b,[null!==x.myPwFound&&""!==x.myPwFound?((0,a.uX)(),(0,a.CE)("div",v,[(0,a.Lk)("button",{type:"button",class:"btn btn-primary btn-block",onClick:e[3]||(e[3]=(...o)=>A.sendVerificationCode&&A.sendVerificationCode(...o))}," 인증번호 받기 "),(0,a.Lk)("div",h,[(0,a.bo)((0,a.Lk)("input",{type:"text","onUpdate:modelValue":e[4]||(e[4]=o=>x.verificationCode=o),required:"",class:"form-control",placeholder:"인증번호를 입력해주세요"},null,512),[[s.Jo,x.verificationCode]])]),(0,a.Lk)("button",{onClick:e[5]||(e[5]=(...o)=>A.confirmVerificationCode&&A.confirmVerificationCode(...o)),class:"btn btn-primary btn-block"}," 인증번호 확인 ")])):""===x.myPwFound?((0,a.uX)(),(0,a.CE)("div",L," 해당하는 정보를 찾을 수 없습니다. ")):(0,a.Q3)("",!0),x.verificationCodeValid?((0,a.uX)(),(0,a.CE)("div",y,[(0,a.Lk)("div",C,[P,(0,a.Lk)("div",V,[(0,a.bo)((0,a.Lk)("input",{type:"password",class:"form-control",id:"password","onUpdate:modelValue":e[6]||(e[6]=o=>x.password=o),required:""},null,512),[[s.Jo,x.password]])])]),(0,a.Lk)("div",g,[E,(0,a.Lk)("div",M,[(0,a.bo)((0,a.Lk)("input",{type:"password",class:"form-control",id:"confirmPassword","onUpdate:modelValue":e[7]||(e[7]=o=>x.confirmPassword=o),required:""},null,512),[[s.Jo,x.confirmPassword]])])]),(0,a.Lk)("div",F,[(0,a.Lk)("div",q,[(0,a.Lk)("button",{type:"button",class:"btn btn-primary",onClick:e[8]||(e[8]=(...o)=>A.updatePassword&&A.updatePassword(...o))}," 비밀번호 변경 ")])])])):(0,a.Q3)("",!0)])])])])}t(4114);var A=t(8355),J={data(){return{memail:"",mtel:"",myPwFound:null,verificationCode:"",password:"",confirmPassword:"",isEmailVerified:!1,verificationCodeValid:!1}},methods:{findMyPw(){A.A.post("/updatePassword",{memail:this.memail,mtel:this.mtel}).then((o=>{this.myPwFound=o.data?o.data:""})).catch((o=>{console.error("Error:",o),this.myPwFound=""}))},sendVerificationCode(){A.A.post("/sendVerificationEmail",{email:this.memail}).then((o=>{alert("서버 응답: "+o.data),console.log("서버 응답:",o.data)})).catch((o=>{console.error("서버 오류:",o),alert("서버 오류 발생!")}))},async confirmVerificationCode(){A.A.post("/confirmVerificationCode",{email:this.memail,eccode:this.verificationCode}).then((o=>{alert("서버 응답: "+o.data),console.log("서버 응답:",o.data),this.isEmailVerified=!0,this.verificationCodeValid=!0})).catch((o=>{console.error("서버 오류:",o),alert("서버 오류 발생!")}))},updatePassword(){this.password===this.confirmPassword?A.A.post("/updatePassword",{memail:this.memail,newMpw:this.newMpw}).then((()=>{alert("비밀번호가 업데이트 되었습니다."),this.$router.push("/selectMemberType")})).catch((o=>{console.error("Error:",o),alert("비밀번호 업데이트 중 오류가 발생했습니다. 다시 시도해주세요.")})):alert("비밀번호가 일치하지 않습니다.")}}},U=t(1241);const X=(0,U.A)(J,[["render",x],["__scopeId","data-v-573c45a9"]]);var _=X}}]);
//# sourceMappingURL=342.6a372f3b.js.map