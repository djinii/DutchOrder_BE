"use strict";(self["webpackChunkv2_client"]=self["webpackChunkv2_client"]||[]).push([[339],{2863:function(t,e,o){o.d(e,{A:function(){return D}});var n=o(6768),s=o(4232);const r={class:"list-unstyled"},l={class:"link-body-emphasis text-decoration-none border-top"},i={class:"hstack gap-3"},d={class:"p-2"},a={class:"mb-0"},c=(0,n.Lk)("small",{class:"text-body-secondary"},"옵션 : 없음",-1),u={class:"p-2 ms-auto"},m={class:"mb-0"};function p(t,e,o,p,h,b){const f=(0,n.g2)("DJ_C_SelFrd");return(0,n.uX)(),(0,n.CE)("ul",r,[(0,n.Lk)("li",null,[(0,n.Lk)("div",l,[(0,n.Lk)("div",i,[(0,n.Lk)("div",d,[(0,n.Lk)("p",a,[(0,n.eW)((0,s.v_)(o.menu.fname)+" ",1),(0,n.Lk)("span",null,(0,s.v_)(o.menu.fcnt)+" 개",1)]),c]),(0,n.Lk)("div",u,[(0,n.Lk)("h6",m,(0,s.v_)(o.menu.ftotal)+" 원",1)])])]),o.addFrd?((0,n.uX)(),(0,n.Wv)(f,{key:0,menu:o.menu,onUpdateSums:t.handleUpdateSums},null,8,["menu","onUpdateSums"])):(0,n.Q3)("",!0)])])}var h=o(5130);const b=["onUpdate:modelValue","disabled"],f=["value"],k=["onUpdate:modelValue","disabled"],L=["onClick","disabled"],v=(0,n.Lk)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",fill:"currentColor",class:"bi bi-dash-lg",viewBox:"0 0 16 16"},[(0,n.Lk)("path",{"fill-rule":"evenodd",d:"M2 8a.5.5 0 0 1 .5-.5h11a.5.5 0 0 1 0 1h-11A.5.5 0 0 1 2 8"})],-1),C=[v],y={class:"d-grid gap-1 d-md-block d-flex"},g=["disabled"];function _(t,e,o,r,l,i){return(0,n.uX)(),(0,n.CE)(n.FK,null,[((0,n.uX)(!0),(0,n.CE)(n.FK,null,(0,n.pI)(l.ordList,((t,e)=>((0,n.uX)(),(0,n.CE)("div",{class:"input-group mb-2",key:e},[(0,n.bo)((0,n.Lk)("select",{class:"form-select","onUpdate:modelValue":e=>t.ordname=e,disabled:this.completed},[((0,n.uX)(!0),(0,n.CE)(n.FK,null,(0,n.pI)(l.friends,((t,e)=>((0,n.uX)(),(0,n.CE)("option",{key:e,value:t},(0,s.v_)(t),9,f)))),128))],8,b),[[h.u1,t.ordname]]),(0,n.bo)((0,n.Lk)("input",{type:"text",class:"form-control","onUpdate:modelValue":e=>t.ordprice=e,disabled:this.completed},null,8,k),[[h.Jo,t.ordprice]]),(0,n.Lk)("button",{class:"btn btn-outline-secondary",type:"button",onClick:t=>i.rmForm(e),disabled:this.completed},C,8,L)])))),128)),(0,n.Lk)("div",y,[(0,n.Lk)("button",{class:"btn btn-primary col-6",type:"button",onClick:e[0]||(e[0]=(...t)=>i.addForm&&i.addForm(...t)),disabled:this.completed}," 추가 ",8,g),(0,n.Lk)("button",{class:"btn btn-primary col-6",type:"button",onClick:e[1]||(e[1]=t=>i.update())},(0,s.v_)(l.label),1)])],64)}o(4114);var F={data(){return{inputStatus:"",friends:["Friend1","Friend2","Friend3"],ordList:[],completed:!1,label:"완료",selectedFriends:[],inputAmounts:[],insert:0}},props:{menu:{type:Object}},watch:{},created(){console.log(this.menu.fname+this.menu.fcnt+"selFRD.vue"),this.selectedFriends[0]=this.friends[0],console.log(this.friends);for(let t=0;t<this.menu.fcnt;t++)this.ordList.push({ordname:this.friends[0],ordprice:this.menu.fprice}),console.log(this.menu.osfnum+"selFrd")},methods:{addForm(){this.ordList.push({osfnum:this.menu.osfnum,ordname:this.friends[0],ordprice:this.menu.fprice}),console.log(this.ordList)},rmForm(t){this.ordList.length>1?(this.ordList.splice(t,1),console.log(this.ordList),console.log(t)):alert("한개이상 입력하세요")},update(){if("완료"===this.label){let t=0;if(this.ordList.forEach((e=>{t+=parseInt(e.ordprice)})),console.log(t+"dooootodoatlt"),t>this.menu.ftotal||t<this.menu.ftotal)alert("금액을 확인하세요");else{this.completed=!0,this.label="수정";let t=[];this.ordList.forEach((e=>{let o=t.find((t=>t.ordname===e.ordname));o?o.ordprice+=Number(e.ordprice):t.push({osfnum:this.menu.osfnum,ordname:e.ordname,ordprice:Number(e.ordprice)})})),this.$store.commit("ordStore/ADD_ORD",t)}}else this.$store.commit("ordStore/RM_ORD",{osfnum:this.menu.osfnum,ordList:this.ordList.map((t=>t.ordname))}),this.completed=!1,this.label="완료"},eachPrice(){}}},E=o(1241);const S=(0,E.A)(F,[["render",_]]);var x=S,A={components:{DJ_C_SelFrd:x},props:{menu:{type:Object,required:!0},clickable:{type:Boolean,default:!0},addFrd:{type:Boolean,default:!1}},data(){return{}},methods:{showDetail(t){console.log(t)}}};const w=(0,E.A)(A,[["render",p]]);var D=w},339:function(t,e,o){o.r(e),o.d(e,{default:function(){return v}});var n=o(6768);const s={class:"container"},r=(0,n.Lk)("div",{class:"row",style:{margin:"0px 0px 5px 2px"}},[(0,n.Lk)("div",{class:"py-4 text-center"},[(0,n.Lk)("h2",null,"장바구니")]),(0,n.Lk)("hr",{class:"my-4",style:{"padding-bottom":"15px"}})],-1),l={class:"d-flex"},i={class:"p-2 flex-grow-1"},d=["onClick"],a={class:"input-group p-2",style:{width:"135px"}},c=["onClick"],u=["id","value"],m=["onClick"],p=(0,n.Lk)("br",null,null,-1);function h(t,e,o,h,b,f){const k=(0,n.g2)("C_MenuLi");return(0,n.uX)(),(0,n.CE)("div",s,[r,((0,n.uX)(!0),(0,n.CE)(n.FK,null,(0,n.pI)(f.menus,(t=>((0,n.uX)(),(0,n.CE)("div",{class:"card mb-2 mg-2",key:t},[(0,n.bF)(k,{menu:t},null,8,["menu"]),(0,n.Lk)("div",l,[(0,n.Lk)("div",i,[(0,n.Lk)("button",{type:"button",class:"btn btn-outline-danger",onClick:e=>f.rmCard(t.osfnum)},"삭제",8,d)]),(0,n.Lk)("div",a,[(0,n.Lk)("button",{class:"btn btn-outline-secondary",type:"button",onClick:e=>f.decrement(t.osfnum,t.fcnt)}," - ",8,c),(0,n.Lk)("input",{type:"number",id:"button-"+t.osfnum,class:"form-control",value:t.fcnt,readonly:""},null,8,u),(0,n.Lk)("button",{class:"btn btn-outline-secondary",type:"button",onClick:e=>f.increment(t.osfnum)}," +",8,m)])])])))),128)),p,(0,n.Lk)("button",{class:"btn btn-primary",style:{width:"100%"},onClick:e[0]||(e[0]=(...t)=>f.ordering&&f.ordering(...t)),type:"button"}," 주문하기 ")])}o(4114);var b=o(2863),f={data(){return{ordtotal:0}},computed:{menus(){return this.$store.getters["cartStore/GET_CART_LIST"]},total(){return this.$store.getters["cartStore/TOTAL_CART"]}},methods:{ordering(){this.$store.commit("ordStore/ADD_REC",this.total),this.$store.commit("ordStore/ADD_REC1",100),this.$router.push({path:"/ordPlaced"})},increment(t){console.log(t),this.$store.commit("cartStore/INCREASE_CNT",t)},decrement(t,e){e>1&&this.$store.commit("cartStore/DECREMENT_CNT",t)},rmCard(t){this.$store.commit("cartStore/RM_CART_LIST",t)}},components:{C_MenuLi:b.A}},k=o(1241);const L=(0,k.A)(f,[["render",h]]);var v=L}}]);
//# sourceMappingURL=339.9d375678.js.map