{"version":3,"file":"js/497.ba67d26d.js","mappings":"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","sources":["webpack://v2_client/./src/views/comm/JH_Login.vue","webpack://v2_client/./src/views/comm/JH_Login.vue?e7b8"],"sourcesContent":["<template>\r\n  <div class=\"container mt-2\">\r\n    <div class=\"row justify-content-center\">\r\n      <div class=\"col-md-6\">\r\n        <div class=\"card\">\r\n          <div class=\"card-header\">\r\n            <h3 class=\"text-center\">WELCOME</h3>\r\n            <h6 class=\"text-center\">각자 결제하는 배달시스템 더치오더입니다</h6>\r\n            <!-- <h3>({{ $route.params.level }})</h3> -->\r\n          </div>\r\n          <div class=\"card-body\">\r\n            <form @submit.prevent=\"login\">\r\n              <div class=\"mb-3\">\r\n                <label for=\"username\" class=\"form-label\">아이디</label>\r\n                <input\r\n                  type=\"text\"\r\n                  v-model=\"memail\"\r\n                  class=\"form-control\"\r\n                  id=\"username\"\r\n                  required\r\n                />\r\n              </div>\r\n              <div class=\"mb-3\">\r\n                <label for=\"password\" class=\"form-label\">비밀번호</label>\r\n                <input\r\n                  type=\"password\"\r\n                  v-model=\"mpw\"\r\n                  class=\"form-control\"\r\n                  id=\"password\"\r\n                  required\r\n                />\r\n              </div>\r\n              <button\r\n                @click=\"login\"\r\n                type=\"submit\"\r\n                class=\"btn btn-primary w-100\"\r\n              >\r\n                로그인\r\n              </button>\r\n              <button @click=\"goToJoin\" class=\"btn btn-primary w-100\">\r\n                회원가입\r\n              </button>\r\n            </form>\r\n            <div v-if=\"error\" class=\"alert alert-danger mt-2 error-message\">\r\n              {{ error }}\r\n            </div>\r\n            <div class=\"mt-2 text-center\">\r\n              <a href=\"#\" @click.prevent=\"findMyEmail\">아이디 찾기</a> |\r\n              <a href=\"#\" @click.prevent=\"findMyPw\">비밀번호 찾기</a>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  </div>\r\n</template>\r\n  \r\n  <script>\r\nimport axios from \"axios\";\r\n\r\nexport default {\r\n  data() {\r\n    return {\r\n      mnum: \"\",\r\n      memail: \"\",\r\n      mpw: \"\",\r\n      // mgroup_mikey: \"\",\r\n      error: \"\",\r\n    };\r\n  },\r\n  mounted() {\r\n    // 가져온 사용자 레벨 값으로 로직 수행\r\n    console.log(\"사용자 레벨:\", this.$route.params.level);\r\n    console.log(\"회원번호:\", this.$route.params.mnum);\r\n  },\r\n  methods: {\r\n    async login() {\r\n      // 로그인 로직\r\n      console.log(\"로그인 시도:\", this.memail, this.mpw);\r\n\r\n      // 아이디와 암호가 입력되었는지 확인\r\n      if (!this.memail || !this.mpw) {\r\n        this.error = \"아이디와 암호를 입력해주세요.\";\r\n        return;\r\n      }\r\n      try {\r\n        const loginResponse = await axios.post(\"/login\", {\r\n          memail: this.memail,\r\n          mpw: this.mpw,\r\n        });\r\n        // 로그인 성공시 true return\r\n        console.log(\"loginResponse : \", loginResponse.data);\r\n\r\n        if (loginResponse.data === true) {\r\n          const userLevel = await this.getUserLevel(this.memail);\r\n\r\n          const userMnum = await this.getUserMnum(this.memail);\r\n\r\n          // Vuex 스토어의 상태 업데이트\r\n          this.$store.commit(\"setLoginStatus\", true);\r\n          this.$store.commit(\"setUserLevel\", userLevel);\r\n          this.$store.commit(\"setUserMnum\", userMnum);\r\n\r\n          const path =\r\n            userLevel === 101\r\n              ? \"/client/home\"\r\n              : userLevel === 102\r\n              ? \"/business/home\"\r\n              : \"/admin/home\";\r\n          this.$router.push(path);\r\n        } else {\r\n          this.$store.commit(\"setLoginStaus\", false);\r\n          this.error = \"아이디 또는 비밀번호가 잘못되었습니다.\";\r\n        }\r\n      } catch (error) {\r\n        this.$store.commit(\"setLoginStaus\", false);\r\n        console.error(\"로그인 중 오류가 발생했습니다.\", error);\r\n        this.error = \"로그인 중 오류가 발생했습니다.\";\r\n      }\r\n    },\r\n\r\n    async getUserLevel(memail) {\r\n      console.log(memail);\r\n      // 사용자 레벨 불러오기\r\n      try {\r\n        const response = await axios.post(\"/getUserLevel\", {\r\n          memail,\r\n        });\r\n        return response.data; // 백엔드에서 받은 데이터를 반환\r\n      } catch (error) {\r\n        console.log(error);\r\n      }\r\n    },\r\n    async getUserMnum(memail) {\r\n      console.log(memail);\r\n      // 사용자 회원번호 불러오기\r\n      try {\r\n        const response = await axios.post(\"/getUserMnum\", {\r\n          memail,\r\n        });\r\n        return response.data; // 백엔드에서 받은 데이터를 반환\r\n      } catch (error) {\r\n        console.log(error);\r\n      }\r\n    },\r\n\r\n    // 나머지 메서드들\r\n    goToJoin() {\r\n      // 회원가입 페이지로 이동하는 로직\r\n      const userLevel = this.$route.params.level;\r\n      this.$router.push({ path: `/${userLevel}/join` });\r\n\r\n      console.log(\"회원가입 페이지로 이동\");\r\n    },\r\n    findMyEmail() {\r\n      // 아이디 찾기 페이지로 이동하는 로직\r\n      const userLevel = this.$route.params.level;\r\n      this.$router.push({ path: `/${userLevel}/findMyEmail` });\r\n      console.log(\"아이디 찾기 페이지로 이동\");\r\n    },\r\n    findMyPw() {\r\n      const userLevel = this.$route.params.level;\r\n      this.$router.push({ path: `/${userLevel}/findMyPw` });\r\n      console.log(\"비밀번호 찾기 페이지로 이동\");\r\n    },\r\n  },\r\n};\r\n</script>\r\n  \r\n  <style scoped>\r\n.text-center {\r\n  margin-top: 10px;\r\n  margin-bottom: 10px;\r\n}\r\n\r\n.btn {\r\n  margin-top: 10px;\r\n  margin-bottom: 5px;\r\n  color: black;\r\n  background-color: #f5beae;\r\n  border-color: #f5beae;\r\n}\r\n\r\n.btn:hover {\r\n  background-color: #f5835d;\r\n}\r\n\r\n.error-message {\r\n  padding: 0.75rem 1.25rem;\r\n  margin-bottom: 1rem;\r\n  border: 1px solid transparent;\r\n  border-radius: 0.5rem;\r\n  text-align: center;\r\n  color: #000000;\r\n  background-color: #dae9e7;\r\n  border-color: #dae9e7;\r\n}\r\n</style>","import { render } from \"./JH_Login.vue?vue&type=template&id=d5796872&scoped=true\"\nimport script from \"./JH_Login.vue?vue&type=script&lang=js\"\nexport * from \"./JH_Login.vue?vue&type=script&lang=js\"\n\nimport \"./JH_Login.vue?vue&type=style&index=0&id=d5796872&scoped=true&lang=css\"\n\nimport exportComponent from \"../../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-d5796872\"]])\n\nexport default __exports__"],"names":["class","_createElementVNode","for","key","_createElementBlock","_hoisted_1","_hoisted_2","_hoisted_3","_hoisted_4","_hoisted_5","_hoisted_6","onSubmit","_cache","_withModifiers","args","$options","login","_hoisted_7","_hoisted_8","type","$event","$data","memail","id","required","_hoisted_9","_hoisted_10","mpw","onClick","goToJoin","error","_hoisted_11","_toDisplayString","_createCommentVNode","_hoisted_12","href","findMyEmail","_createTextVNode","findMyPw","data","mnum","mounted","console","log","this","$route","params","level","methods","loginResponse","axios","post","userLevel","getUserLevel","userMnum","getUserMnum","$store","commit","path","$router","push","response","__exports__","render"],"sourceRoot":""}