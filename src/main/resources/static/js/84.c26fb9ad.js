"use strict";(self["webpackChunkv2_client"]=self["webpackChunkv2_client"]||[]).push([[84],{1084:function(a,e,t){t.r(e),t.d(e,{default:function(){return z}});var s=t(6768),i=t(4232),r=t(5130);const n=a=>((0,s.Qi)("data-v-3b8521c2"),a=a(),(0,s.jt)(),a),l=n((()=>(0,s.Lk)("h2",{class:"main-title"},"내 친구 확인하기",-1))),d=n((()=>(0,s.Lk)("hr",{class:"my-4"},null,-1))),o={id:"myInfo"},c=n((()=>(0,s.Lk)("strong",null,"이메일:",-1))),m=n((()=>(0,s.Lk)("hr",{class:"my-4"},null,-1))),h={class:"search-area"},y=n((()=>(0,s.Lk)("div",{class:"col-auto"},[(0,s.Lk)("label",{for:"friendSearch",class:"form-label"}," 친구 검색 - 닉네임으로 검색할 수 있습니다 ")],-1))),u={class:"col-auto"},k={class:"input-group"},p={class:"modal fade",id:"exampleModal",tabindex:"-1","aria-labelledby":"exampleModalLabel","aria-hidden":"true"},L={class:"modal-dialog modal-dialog-centered modal-dialog-scrollable"},F={class:"modal-content"},f=n((()=>(0,s.Lk)("div",{class:"modal-header"},[(0,s.Lk)("h1",{class:"modal-title fs-5",id:"exampleModalLabel"},"검색된 친구 목록")],-1))),b={class:"modal-body"},C={key:0},v=n((()=>(0,s.Lk)("div",{class:"modal-footer"},[(0,s.Lk)("button",{type:"button",class:"btn btn-primary","data-bs-dismiss":"modal","aria-label":"Close"},"닫기")],-1))),w=n((()=>(0,s.Lk)("hr",{class:"my-4"},null,-1))),_={class:"d-grid gap-2"},g=n((()=>(0,s.Lk)("hr",{class:"my-4"},null,-1))),E={key:0},W={class:"card text-center"},M=n((()=>(0,s.Lk)("div",{class:"card-header"},[(0,s.Lk)("h5",{class:"card-title"},"나의 친구목록")],-1))),S={class:"card-body"},x={key:1},X={class:"card text-center"},D=n((()=>(0,s.Lk)("div",{class:"card-header"},[(0,s.Lk)("h5",{class:"card-title"},"요청대기중인 친구")],-1))),Q={class:"card-body"},A={key:2},J={class:"card text-center"},R=n((()=>(0,s.Lk)("div",{class:"card-header"},[(0,s.Lk)("h5",{class:"card-title"},"받은 요청")],-1))),Y={class:"card-body"},I=["onClick"],K=["onClick"];function P(a,e,t,n,P,q){return(0,s.uX)(),(0,s.CE)(s.FK,null,[(0,s.Lk)("div",null,[l,d,(0,s.Lk)("div",o,[(0,s.Lk)("p",null,[(0,s.Lk)("strong",null,(0,i.v_)(P.myData.mnic),1),(0,s.eW)("님 안녕하세요!")]),(0,s.Lk)("p",null,[c,(0,s.eW)(" "+(0,i.v_)(P.myData.memail),1)])])]),m,(0,s.Lk)("div",h,[y,(0,s.Lk)("div",u,[(0,s.Lk)("div",k,[(0,s.bo)((0,s.Lk)("input",{type:"text","onUpdate:modelValue":e[0]||(e[0]=a=>P.friendSearchQuery=a),class:"form-control",id:"friendSearch",required:""},null,512),[[r.Jo,P.friendSearchQuery]]),(0,s.Lk)("button",{type:"submit",class:"btn btn-primary btn-primary-search","data-bs-toggle":"modal","data-bs-target":"#exampleModal",onClick:e[1]||(e[1]=(...a)=>q.showSearchFriend&&q.showSearchFriend(...a))}," 검색 ")])])]),(0,s.Lk)("div",p,[(0,s.Lk)("div",L,[(0,s.Lk)("div",F,[f,(0,s.Lk)("div",b,[201===P.searchFriend.mstatus_mikey?((0,s.uX)(),(0,s.CE)("p",C," - "+(0,i.v_)(P.searchFriend.mnic)+" - ",1)):(0,s.Q3)("",!0),201===P.searchFriend.mstatus_mikey?((0,s.uX)(),(0,s.CE)("button",{key:1,type:"button",class:"btn btn-primary",onClick:e[2]||(e[2]=(...a)=>q.fetchPlusFriend&&q.fetchPlusFriend(...a))},"친구추가")):(0,s.Q3)("",!0)]),v])])]),w,(0,s.Lk)("div",_,[(0,s.Lk)("button",{id:"friendList",type:"button",class:"btn btn-primary",onClick:e[3]||(e[3]=(...a)=>q.showFriendList&&q.showFriendList(...a))},"나의 친구목록 보기"),(0,s.Lk)("button",{id:"friendWait",type:"button",class:"btn btn-primary",onClick:e[4]||(e[4]=(...a)=>q.showFriendWait&&q.showFriendWait(...a))},"요청 대기중인 친구보기"),(0,s.Lk)("button",{id:"friendCall",type:"button",class:"btn btn-primary",onClick:e[5]||(e[5]=(...a)=>q.showFriendCall&&q.showFriendCall(...a))},"받은 요청")]),g,P.friendList?((0,s.uX)(),(0,s.CE)("div",E,[(0,s.Lk)("div",W,[M,(0,s.Lk)("div",S,[((0,s.uX)(!0),(0,s.CE)(s.FK,null,(0,s.pI)(P.myFriendList,(a=>((0,s.uX)(),(0,s.CE)("p",{class:"card-text",key:a}," - "+(0,i.v_)(a.mnic)+" - ",1)))),128))])])])):(0,s.Q3)("",!0),P.friendWait?((0,s.uX)(),(0,s.CE)("div",x,[(0,s.Lk)("div",X,[D,(0,s.Lk)("div",Q,[((0,s.uX)(!0),(0,s.CE)(s.FK,null,(0,s.pI)(P.myFriendWait,(a=>((0,s.uX)(),(0,s.CE)("p",{class:"card-text",key:a}," - "+(0,i.v_)(a.mnic)+" - ",1)))),128))])])])):(0,s.Q3)("",!0),P.friendCall?((0,s.uX)(),(0,s.CE)("div",A,[(0,s.Lk)("div",J,[R,(0,s.Lk)("div",Y,[((0,s.uX)(!0),(0,s.CE)(s.FK,null,(0,s.pI)(P.myFriendCall,((a,e)=>((0,s.uX)(),(0,s.CE)("p",{class:"card-text",key:e},[(0,s.eW)(" - "+(0,i.v_)(a.mnic)+" - ",1),(0,s.Lk)("button",{type:"button",class:"btn btn-primary",onClick:a=>q.acceptFriend(e)},"수락",8,I),(0,s.Lk)("button",{type:"button",class:"btn btn-secondary",onClick:a=>q.refuseFriend(e)},"거절",8,K)])))),128))])])])):(0,s.Q3)("",!0)],64)}var q=t(8355),U={data(){return{myFriendList:[],myFriendWait:[],myFriendCall:{},searchFriend:{},myData:{},friendList:!1,friendWait:!1,friendCall:!1,friendSearchQuery:""}},computed:{},mounted(){this.fetchMyData()},methods:{async fetchMyData(){try{const a=await q.A.post("/JY_C_MyFriend",{mnum:1001});this.myData=a.data,console.log("Response:",a.data)}catch(a){console.error("Error fetching MyFriends:",a)}},async showFriendList(){try{const a=await q.A.post("/JY_C_MyFriendList",{mnum:this.myData.mnum});this.myFriendList=a.data,console.log("showFriendList clicked"),this.friendList=!0,this.friendWait=!1,this.friendCall=!1,console.log("Response:",a.data)}catch(a){console.error("Error showing MyFriendList:",a)}},async showFriendWait(){try{const a=await q.A.post("/JY_C_MyFriendWait",{mnum:this.myData.mnum});this.myFriendWait=a.data,console.log("showFriendWait clicked"),this.friendWait=!0,this.friendList=!1,this.friendCall=!1,console.log("Response:",a.data)}catch(a){console.error("Error showing MyFriendWait:",a)}},async showFriendCall(){try{const a=await q.A.post("/JY_C_MyFriendCall",{mnum:this.myData.mnum});this.myFriendCall=a.data,console.log("showFriendCall clicked"),this.friendCall=!0,this.friendList=!1,this.friendWait=!1,console.log("Response:",a.data)}catch(a){console.error("Error showing MyFriendCall:",a)}},async acceptFriend(a){try{this.myFriendCall[a].mfstatus_mikey=702;const e=await q.A.post("/JY_C_UpdateFriend",this.myFriendCall[a]);console.log("Response: ",e.data),await this.showFriendCall()}catch(e){console.error("Error accepting friend request:",e)}},async refuseFriend(a){try{this.myFriendCall[a].mfstatus_mikey=703;const e=await q.A.post("/JY_C_UpdateFriend",this.myFriendCall[a]);console.log("Response: ",e.data),await this.showFriendCall()}catch(e){console.error("Error accepting friend request:",e)}},async showSearchFriend(){try{const a=await q.A.post("/JY_C_MyFriendSearch",{mnic:this.friendSearchQuery});this.searchFriend=a.data,console.log("Search",this.friendSearchQuery),console.log("Response:",a.data)}catch(a){console.error("Error showing MyFriendSearch:",a)}},async fetchPlusFriend(){try{const a=await q.A.post("/JY_C_PlusFriend",{mnum:this.myData.mnum,mfnum:this.searchFriend.mnum,mfstatus_makey:700,mfstatus_mikey:701,from_id:this.myData.mnum});-1===a.data?alert("이미 친구이거나 추가 할 수 없는 상대입니다."):(console.log("kkkResponse:",a.data),alert("친구요청을 보냈습니다."))}catch(a){console.error("Error adding friend:",a),alert("친구 추가 중 오류가 발생했습니다.")}}}},j=t(1241);const V=(0,j.A)(U,[["render",P],["__scopeId","data-v-3b8521c2"]]);var z=V}}]);
//# sourceMappingURL=84.c26fb9ad.js.map