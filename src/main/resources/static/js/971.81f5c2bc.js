"use strict";(self["webpackChunkv2_client"]=self["webpackChunkv2_client"]||[]).push([[971],{6971:function(t,e,s){s.r(e),s.d(e,{default:function(){return b}});var i=s(6768),o=s(4232);const r=(0,i.Lk)("div",{id:"pageName"},[(0,i.Lk)("h2",null,"리뷰목록 -사업자-")],-1),n=(0,i.Lk)("hr",{class:"my-4"},null,-1),l={id:"answerSort",class:"dropdown dropend"},a={class:"btn btn-secondary dropdown-toggle",type:"button","data-bs-toggle":"dropdown","aria-expanded":"false"},d={class:"dropdown-menu"},c={id:"timeSort",class:"dropdown dropend"},u={class:"btn btn-secondary dropdown-toggle",type:"button","data-bs-toggle":"dropdown","aria-expanded":"false"},w={class:"dropdown-menu"},v={class:"reviewList"},m={class:"d-grid gap-2 col-10 mx-auto"},k=["onClick"],p={class:"text-start"},h={class:"d-inline-block text-truncate",style:{"max-width":"200px"}},L={class:"text-end"};function f(t,e,s,f,g,R){return(0,i.uX)(),(0,i.CE)(i.FK,null,[r,n,(0,i.Lk)("div",l,[(0,i.Lk)("button",a,(0,o.v_)(g.sortStatusText),1),(0,i.Lk)("ul",d,[(0,i.Lk)("li",null,[(0,i.Lk)("a",{id:"writeComplete",class:"dropdown-item",onClick:e[0]||(e[0]=t=>R.filterByStatus(1001))},"작성 미완료")]),(0,i.Lk)("li",null,[(0,i.Lk)("a",{id:"writeIncomplete",class:"dropdown-item",onClick:e[1]||(e[1]=t=>R.filterByStatus(1002))},"작성 완료")])])]),(0,i.Lk)("div",c,[(0,i.Lk)("button",u,(0,o.v_)(g.sortTimeText),1),(0,i.Lk)("ul",w,[(0,i.Lk)("li",null,[(0,i.Lk)("a",{id:"newest",class:"dropdown-item",onClick:e[2]||(e[2]=(...t)=>R.sortNewest&&R.sortNewest(...t))},"최신순")]),(0,i.Lk)("li",null,[(0,i.Lk)("a",{id:"oldest",class:"dropdown-item",onClick:e[3]||(e[3]=(...t)=>R.sortOldest&&R.sortOldest(...t))},"오래된순")])])]),(0,i.Lk)("div",v,[((0,i.uX)(!0),(0,i.CE)(i.FK,null,(0,i.pI)(R.filteredReviewList,(t=>((0,i.uX)(),(0,i.CE)("div",{key:t},[(0,i.Lk)("div",m,[(0,i.Lk)("button",{class:"btn btn-outline-dark",type:"button",onClick:e=>R.moveComment(t.rnum)},[(0,i.Lk)("p",p,(0,o.v_)(t.strRdate),1),(0,i.Lk)("span",h,(0,o.v_)(t.rcontent),1),(0,i.Lk)("p",L,"별점 : "+(0,o.v_)(t.rstar)+" -- 닉네임 : "+(0,o.v_)(t.mnic),1)],8,k)])])))),128))])],64)}s(4114);var g=s(8355),R={data(){return{listReview:[],sortTimeText:"시간별 정렬",sortStatusText:"작성별 정렬"}},mounted(){this.fetchReviewList()},computed:{filteredReviewList(){return"작성 완료"===this.sortStatusText?(console.log(this.listReview),this.listReview.filter((t=>1002===t.rstatus_mikey))):"작성 미완료"===this.sortStatusText?(console.log(this.listReview),this.listReview.filter((t=>1001===t.rstatus_mikey))):(console.log(this.listReview),this.listReview)}},methods:{async fetchReviewList(){try{const t=await g.A.post("/JY_B_ReviewList",{});this.listReview=t.data.map((t=>(t.rdate=this.formatDate(t.rdate),t))),console.log("Response:",t.data)}catch(t){console.error("Error fetching reviewList:",t)}},async moveComment(t){try{this.$router.push({path:"/JY_B_ReviewComment",query:{rnum:t}})}catch(e){console.error("Error fetching reviewComment:",e)}},formatDate(t){if(!t)return"";const e=new Date(t);return isNaN(e.getTime())?"":`${e.toISOString().slice(0,16).replace("T"," ")}`},filterByStatus(t){1002===t?this.sortStatusText="작성 완료":1001===t&&(this.sortStatusText="작성 미완료")},sortNewest(){this.listReview.sort(((t,e)=>new Date(e.rdate)-new Date(t.rdate))),this.sortTimeText="최신순",console.log(this.listReview)},sortOldest(){this.listReview.sort(((t,e)=>new Date(t.rdate)-new Date(e.rdate))),this.sortTimeText="오래된순",console.log(this.listReview)}}},x=s(1241);const y=(0,x.A)(R,[["render",f]]);var b=y}}]);
//# sourceMappingURL=971.81f5c2bc.js.map