"use strict";(self["webpackChunkv2_client"]=self["webpackChunkv2_client"]||[]).push([[481],{9481:function(t,e,n){n.r(e),n.d(e,{default:function(){return A}});var o=n(6768),l=n(4232),s=n(5130);const i=(0,o.Lk)("svg",{class:"bd-placeholder-img card-img-top",width:"300px",height:"200",xmlns:"http://www.w3.org/2000/svg",role:"img","aria-label":"Placeholder: Image cap",preserveAspectRatio:"xMidYMid slice",focusable:"false"},[(0,o.Lk)("title",null,"Placeholder"),(0,o.Lk)("rect",{width:"100%",height:"100%",fill:"#868e96"}),(0,o.Lk)("text",{x:"50%",y:"50%",fill:"#dee2e6",dy:".3em"},"Image cap")],-1),a=(0,o.Lk)("br",null,null,-1),c={key:0,class:"list-group"},r={class:"list-group-item d-flex gap-2"},u=(0,o.Lk)("span",null,[(0,o.eW)(" 기본 "),(0,o.Lk)("small",{class:"d-block text-body-secondary"},"+0원")],-1),m={class:"list-group-item d-flex gap-2"},d=(0,o.Lk)("span",null,[(0,o.eW)(" 곱빼기 "),(0,o.Lk)("small",{class:"d-block text-body-secondary"},"+500원")],-1),p={class:"MS_sp"},h={class:"input-group mb-3",style:{width:"250px"}},f={class:"modal",tabindex:"-1",id:"confirm"},k={class:"modal-dialog"},b={class:"modal-content"},g=(0,o.Lk)("div",{class:"modal-header"},[(0,o.Lk)("h5",{class:"modal-title"},"Modal title"),(0,o.Lk)("button",{type:"button",class:"btn-close","data-bs-dismiss":"modal","aria-label":"Close"})],-1),L={class:"modal-body"},I={key:0,class:"modal-footer"};function v(t,e,n,v,y,C){const x=(0,o.g2)("b-form-spinbutton");return(0,o.uX)(),(0,o.CE)("div",null,[i,(0,o.Lk)("p",null,[(0,o.eW)("메뉴 상세 (설명) 내용 "),a,(0,o.eW)((0,l.v_)(y.menuInfo.finfo),1)]),1==this.menuInfo.foption?((0,o.uX)(),(0,o.CE)("div",c,[(0,o.Lk)("label",r,[(0,o.bo)((0,o.Lk)("input",{class:"form-check-input flex-shrink-0",type:"radio",name:"listGroupRadios",id:"listGroupRadios1",value:"0","onUpdate:modelValue":e[0]||(e[0]=t=>y.option=t),checked:""},null,512),[[s.XL,y.option]]),u]),(0,o.Lk)("label",m,[(0,o.bo)((0,o.Lk)("input",{class:"form-check-input flex-shrink-0",type:"radio",name:"listGroupRadios",id:"listGroupRadios2",value:"500","onUpdate:modelValue":e[1]||(e[1]=t=>y.option=t)},null,512),[[s.XL,y.option]]),d])])):(0,o.Q3)("",!0),(0,o.Lk)("p",null,"가격 : "+(0,l.v_)(this.price),1),(0,o.Lk)("div",p,[(0,o.Lk)("p",null,[(0,o.eW)(" 수량: "),(0,o.bF)(x,{id:"sb-input",modelValue:y.cnt,"onUpdate:modelValue":e[2]||(e[2]=t=>y.cnt=t),wrap:""},null,8,["modelValue"])])]),(0,o.Lk)("div",h,[(0,o.Lk)("button",{class:"btn btn-outline-secondary",type:"button",onClick:e[3]||(e[3]=(...t)=>C.increment&&C.increment(...t))}," + "),(0,o.bo)((0,o.Lk)("input",{type:"number",class:"form-control",placeholder:"","aria-label":"Example text with two button addons","onUpdate:modelValue":e[4]||(e[4]=t=>y.cnt=t)},null,512),[[s.Jo,y.cnt]]),(0,o.Lk)("button",{class:"btn btn-outline-secondary",type:"button",onClick:e[5]||(e[5]=(...t)=>C.decrement&&C.decrement(...t))}," - "),(0,o.Lk)("p",null,"총금액: "+(0,l.v_)(C.calculateTotal())+"원",1)]),(0,o.Lk)("button",{type:"button",class:"btn btn-primary","data-bs-toggle":"modal","data-bs-target":"#confirm",onClick:e[6]||(e[6]=(...t)=>C.confirm&&C.confirm(...t))}," 담기 "),(0,o.Lk)("div",f,[(0,o.Lk)("div",k,[(0,o.Lk)("div",b,[g,(0,o.Lk)("div",L,[(0,o.Lk)("p",null,(0,l.v_)(this.msg),1)]),y.asking?((0,o.uX)(),(0,o.CE)("div",I,[(0,o.Lk)("button",{type:"button",class:"btn btn-primary",onClick:e[7]||(e[7]=(...t)=>C.confirmIncrease_cnt&&C.confirmIncrease_cnt(...t))},"장바구니에 담기")])):(0,o.Q3)("",!0)])])])])}var y=n(8355),C=n(1114),x={computed:{cart(){return C.A.state.cartList}},name:"C_MenuInf",data(){return{fnum:null,nfNum:null,selected:"",cnt:1,menu:[],menuInfo:{},price:0,option:0,asking:!1,msg:"장바구니에 담겼습니다"}},methods:{confirm(){console.log(this.menuInfo.option+"option"),console.log(this.menuInfo.fnum+"num");let t=this.menuInfo.fnum+this.option;console.log(t);let e=this.$store.state.cartStore.cartList.some((e=>e.osfnum===t));e?(this.msg="이미 담겨있는 상품입니다",this.asking=!0):(console.log(t),console.log(e+"???"),this.addToCart())},confirmIncrease_cnt(){let t=this.menuInfo.fnum+this.option;this.$store.commit("cartStore/INCREASE_CNT",{osfnum:t,fcnt:this.cnt}),console.log(t),this.msg="장바구니에 담겼습니다",this.asking=!1},increment(){this.cnt++},decrement(){this.cnt>1&&this.cnt--},async fetchData(t){await y.A.get("/item/itemView",{params:{f:t}}).then((t=>{this.menuInfo=t.data,this.price=parseInt(this.menuInfo.fprice)})).catch((t=>{console.error("Error fetching menu data:",t)}))},calculateTotal(){return this.totalPrice=this.menuInfo.fprice,this.price=parseInt(this.menuInfo.fprice)+parseInt(this.option),this.totalPrice=this.price*this.cnt,this.totalPrice},addToCart(){let t=this.menuInfo.fnum+this.option;this.$store.commit("cartStore/ADD_CART_LIST",{fname:this.menuInfo.fname,fnum:this.menuInfo.fnum,osfnum:t,foption:this.option,fprice:this.price,ftotal:this.totalPrice,fcnt:this.cnt})}},created(){this.fetchData(this.$route.query.f)}},w=n(1241);const _=(0,w.A)(x,[["render",v]]);var A=_}}]);
//# sourceMappingURL=481.1e1d2995.js.map