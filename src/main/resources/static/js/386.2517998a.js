"use strict";(self["webpackChunkv2_client"]=self["webpackChunkv2_client"]||[]).push([[386],{9386:function(t,s,e){e.r(s),e.d(s,{default:function(){return R}});var o=e(6768),i=e(4232);const r=(0,o.Lk)("div",{id:"pageName"},[(0,o.Lk)("h2",null,"리뷰목록 -개인-")],-1),n=(0,o.Lk)("hr",{class:"my-4"},null,-1),a={id:"answerSort",class:"dropdown dropend"},l={class:"btn btn-secondary dropdown-toggle",type:"button","data-bs-toggle":"dropdown","aria-expanded":"false"},d={class:"dropdown-menu"},c={id:"timeSort",class:"dropdown dropend"},u={class:"btn btn-secondary dropdown-toggle",type:"button","data-bs-toggle":"dropdown","aria-expanded":"false"},h={class:"dropdown-menu"},p=(0,o.Lk)("hr",{class:"my-4"},null,-1),m={key:0},L={class:"card mb-3",style:{"max-width":"540px"}},k={class:"row g-0"},w={class:"col-md-4"},y=["src"],v={class:"col-md-8"},g={class:"card-body"},f={class:"card-text"},b={class:"text-body-secondary"},C={class:"card-title"},S=["onClick"],x=["onClick"];function T(t,s,e,T,_,E){return(0,o.uX)(),(0,o.CE)(o.FK,null,[r,n,(0,o.Lk)("div",a,[(0,o.Lk)("button",l,(0,i.v_)(_.sortStatusText),1),(0,o.Lk)("ul",d,[(0,o.Lk)("li",null,[(0,o.Lk)("a",{id:"writeComplete",class:"dropdown-item",onClick:s[0]||(s[0]=t=>E.filterByStatus(0))},"작성 미완료")]),(0,o.Lk)("li",null,[(0,o.Lk)("a",{id:"writeIncomplete",class:"dropdown-item",onClick:s[1]||(s[1]=t=>E.filterByStatus(1))},"작성 완료")])])]),(0,o.Lk)("div",c,[(0,o.Lk)("button",u,(0,i.v_)(_.sortTimeText),1),(0,o.Lk)("ul",h,[(0,o.Lk)("li",null,[(0,o.Lk)("a",{id:"newest",class:"dropdown-item",onClick:s[2]||(s[2]=(...t)=>E.sortNewest&&E.sortNewest(...t))},"최신순")]),(0,o.Lk)("li",null,[(0,o.Lk)("a",{id:"oldest",class:"dropdown-item",onClick:s[3]||(s[3]=(...t)=>E.sortOldest&&E.sortOldest(...t))},"오래된순")])])]),p,((0,o.uX)(!0),(0,o.CE)(o.FK,null,(0,o.pI)(E.filteredShopList,(t=>((0,o.uX)(),(0,o.CE)("div",{class:"shopInfo",key:t},[805===t.ostatus_mikey?((0,o.uX)(),(0,o.CE)("div",m,[(0,o.Lk)("div",L,[(0,o.Lk)("div",k,[(0,o.Lk)("div",w,[(0,o.Lk)("img",{src:t.simg1,class:"img-fluid rounded-start",alt:"..."},null,8,y)]),(0,o.Lk)("div",v,[(0,o.Lk)("div",g,[(0,o.Lk)("p",f,[(0,o.Lk)("small",b,(0,i.v_)(t.strOdate),1)]),(0,o.Lk)("h5",C,(0,i.v_)(t.sname),1),t.rnum>0?((0,o.uX)(),(0,o.CE)("button",{key:0,class:"btn btn-secondary",type:"button",onClick:s=>E.moveMyReview(t.rnum)},"작성한 리뷰 보기",8,S)):((0,o.uX)(),(0,o.CE)("button",{key:1,class:"btn btn-primary",type:"button",onClick:s=>E.moveWrite(t.onum)},"리뷰 작성하기",8,x))])])])])])):(0,o.Q3)("",!0)])))),128))],64)}e(4114);var _=e(8355),E={data(){return{shopList:[],sortTimeText:"시간별 정렬",sortStatusText:"작성별 정렬"}},mounted(){this.fetchShopList()},computed:{filteredShopList(){return"작성 완료"===this.sortStatusText?(console.log(this.shopList),this.shopList.filter((t=>t.rnum>0))):"작성 미완료"===this.sortStatusText?(console.log(this.shopList),this.shopList.filter((t=>0===t.rnum))):(console.log(this.shopList),this.shopList)}},methods:{async fetchShopList(){try{const t=await _.A.post("/JY_C_ReviewList",{});this.shopList=t.data.map((t=>(t.odate=this.formatDate(t.odate),t.simg1=t.simg1?t.simg1:"",t))),console.log("Response:",t.data)}catch(t){console.error("Error fetching shopList:",t)}},async moveWrite(t){try{this.$router.push({path:"/JY_C_ReviewWrite",query:{onum:t}})}catch(s){console.error("Error fetching reviewWrite:",s)}},async moveMyReview(t){try{this.$router.push({path:"/JY_C_MyReview",query:{rnum:t}})}catch(s){console.error("Error fetching reviewWrite:",s)}},formatDate(t){if(!t)return"";const s=new Date(t);return isNaN(s.getTime())?"":`${s.toISOString().slice(0,16).replace("T"," ")}`},filterByStatus(t){1===t?this.sortStatusText="작성 완료":0===t&&(this.sortStatusText="작성 미완료")},sortNewest(){this.shopList.sort(((t,s)=>new Date(s.odate)-new Date(t.odate))),this.sortTimeText="최신순",console.log(this.shopList)},sortOldest(){this.shopList.sort(((t,s)=>new Date(t.odate)-new Date(s.odate))),this.sortTimeText="오래된순",console.log(this.shopList)}}},D=e(1241);const N=(0,D.A)(E,[["render",T]]);var R=N}}]);
//# sourceMappingURL=386.2517998a.js.map