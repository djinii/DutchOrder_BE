"use strict";(self["webpackChunkv2_client"]=self["webpackChunkv2_client"]||[]).push([[790],{4790:function(t,e,s){s.r(e),s.d(e,{default:function(){return S}});var i=s(6768),r=s(4232);const o=(0,i.Lk)("div",{id:"pageName"},[(0,i.Lk)("h2",{class:"text-center"},"리뷰목록")],-1),l=(0,i.Lk)("hr",{class:"my-4"},null,-1),n={id:"answerSort",class:"dropdown dropend"},a={class:"btn btn-primary dropdown-toggle",type:"button","data-bs-toggle":"dropdown","aria-expanded":"false"},d={class:"dropdown-menu"},c=(0,i.Lk)("li",null,[(0,i.Lk)("hr",{class:"dropdown-divider"})],-1),u={id:"timeSort",class:"dropdown dropend"},w={class:"btn btn-primary dropdown-toggle",type:"button","data-bs-toggle":"dropdown","aria-expanded":"false"},m={class:"dropdown-menu"},k=(0,i.Lk)("li",null,[(0,i.Lk)("hr",{class:"dropdown-divider"})],-1),h=(0,i.Lk)("hr",{class:"my-4"},null,-1),v={class:"reviewList"},p={class:"d-grid gap-2 col-10 mx-auto"},L=["onClick"],g={class:"text-start"},f={class:"d-inline-block text-truncate",style:{"max-width":"200px"}},b={class:"text-end"},x=(0,i.Lk)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",fill:"currentColor",class:"bi bi-star-fill",viewBox:"0 0 16 16"},[(0,i.Lk)("path",{d:"M3.612 15.443c-.386.198-.824-.149-.746-.592l.83-4.73L.173 6.765c-.329-.314-.158-.888.283-.95l4.898-.696L7.538.792c.197-.39.73-.39.927 0l2.184 4.327 4.898.696c.441.062.612.636.282.95l-3.522 3.356.83 4.73c.078.443-.36.79-.746.592L8 13.187l-4.389 2.256z"})],-1);function R(t,e,s,R,y,C){return(0,i.uX)(),(0,i.CE)(i.FK,null,[o,l,(0,i.Lk)("div",n,[(0,i.Lk)("button",a,(0,r.v_)(y.sortStatusText),1),(0,i.Lk)("ul",d,[(0,i.Lk)("li",null,[(0,i.Lk)("a",{id:"writeComplete",class:"dropdown-item",onClick:e[0]||(e[0]=t=>C.filterByStatus(1001))},"작성 미완료")]),c,(0,i.Lk)("li",null,[(0,i.Lk)("a",{id:"writeIncomplete",class:"dropdown-item",onClick:e[1]||(e[1]=t=>C.filterByStatus(1002))},"작성 완료")])])]),(0,i.Lk)("div",u,[(0,i.Lk)("button",w,(0,r.v_)(y.sortTimeText),1),(0,i.Lk)("ul",m,[(0,i.Lk)("li",null,[(0,i.Lk)("a",{id:"newest",class:"dropdown-item",onClick:e[2]||(e[2]=(...t)=>C.sortNewest&&C.sortNewest(...t))},"최신순")]),k,(0,i.Lk)("li",null,[(0,i.Lk)("a",{id:"oldest",class:"dropdown-item",onClick:e[3]||(e[3]=(...t)=>C.sortOldest&&C.sortOldest(...t))},"오래된순")])])]),h,(0,i.Lk)("div",v,[((0,i.uX)(!0),(0,i.CE)(i.FK,null,(0,i.pI)(C.filteredReviewList,(t=>((0,i.uX)(),(0,i.CE)("div",{key:t},[(0,i.Lk)("div",p,[(0,i.Lk)("button",{class:"btn btn-outline-dark",type:"button",onClick:e=>C.moveComment(t.rnum)},[(0,i.Lk)("p",g,(0,r.v_)(t.strRdate),1),(0,i.Lk)("span",f,[(0,i.Lk)("strong",null,(0,r.v_)(t.rcontent),1)]),(0,i.Lk)("p",b,[x,(0,i.eW)(" : "+(0,r.v_)(t.rstar)+" "+(0,r.v_)(t.mnic)+" 님",1)])],8,L)])])))),128))])],64)}s(4114);var y=s(8355),C={data(){return{listReview:[],sortTimeText:"시간별 정렬",sortStatusText:"작성별 정렬"}},mounted(){this.fetchReviewList()},computed:{filteredReviewList(){return"작성 완료"===this.sortStatusText?(console.log(this.listReview),this.listReview.filter((t=>1002===t.rstatus_mikey))):"작성 미완료"===this.sortStatusText?(console.log(this.listReview),this.listReview.filter((t=>1001===t.rstatus_mikey))):(console.log(this.listReview),this.listReview)}},methods:{async fetchReviewList(){try{const t=await y.A.post("/JY_B_ReviewList",{bnum:this.$store.state.userBnum});this.listReview=t.data.filter((t=>t.bnum===this.$store.state.userBnum)).map((t=>(t.rdate=this.formatDate(t.rdate),t))),console.log("Response:",t.data)}catch(t){console.error("Error fetching reviewList:",t)}},async moveComment(t){try{this.$router.push({path:"/JY_B_ReviewComment",query:{rnum:t}})}catch(e){console.error("Error fetching reviewComment:",e)}},formatDate(t){if(!t)return"";const e=new Date(t);return isNaN(e.getTime())?"":`${e.toISOString().slice(0,16).replace("T"," ")}`},filterByStatus(t){1002===t?this.sortStatusText="작성 완료":1001===t&&(this.sortStatusText="작성 미완료")},sortNewest(){this.listReview.sort(((t,e)=>new Date(e.rdate)-new Date(t.rdate))),this.sortTimeText="최신순",console.log(this.listReview)},sortOldest(){this.listReview.sort(((t,e)=>new Date(t.rdate)-new Date(e.rdate))),this.sortTimeText="오래된순",console.log(this.listReview)}}},T=s(1241);const _=(0,T.A)(C,[["render",R]]);var S=_}}]);
//# sourceMappingURL=790.d22e72f9.js.map