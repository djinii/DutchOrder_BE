{"version":3,"file":"js/790.d22e72f9.js","mappings":"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","sources":["webpack://v2_client/./src/views/business/JY_B_ReviewList.vue","webpack://v2_client/./src/views/business/JY_B_ReviewList.vue?052d"],"sourcesContent":["<template>\r\n    <div id=\"pageName\">\r\n        <h2 class=\"text-center\">리뷰목록</h2>\r\n    </div>\r\n    <hr class=\"my-4\" />\r\n    <!-- 작성별 드롭다운 -->\r\n    <div id=\"answerSort\" class=\"dropdown dropend\">\r\n        <button class=\"btn btn-primary dropdown-toggle\" type=\"button\" data-bs-toggle=\"dropdown\" aria-expanded=\"false\">\r\n            {{ sortStatusText }}\r\n        </button>\r\n        <ul class=\"dropdown-menu\">\r\n            <li><a id=\"writeComplete\" class=\"dropdown-item\" @click=\"filterByStatus(1001)\">작성 미완료</a></li>\r\n            <li><hr class=\"dropdown-divider\"></li>\r\n            <li><a id=\"writeIncomplete\" class=\"dropdown-item\" @click=\"filterByStatus(1002)\">작성 완료</a></li>\r\n        </ul>\r\n    </div>\r\n    <!-- 시간별 드롭다운 -->\r\n    <div id=\"timeSort\" class=\"dropdown dropend\">\r\n        <button class=\"btn btn-primary dropdown-toggle\" type=\"button\" data-bs-toggle=\"dropdown\" aria-expanded=\"false\">\r\n            {{ sortTimeText }}\r\n        </button>\r\n        <ul class=\"dropdown-menu\">\r\n            <li><a id=\"newest\" class=\"dropdown-item\" @click=\"sortNewest\">최신순</a></li>\r\n            <li><hr class=\"dropdown-divider\"></li>\r\n            <li><a id=\"oldest\" class=\"dropdown-item\" @click=\"sortOldest\">오래된순</a></li>\r\n        </ul>\r\n    </div>\r\n    <hr class=\"my-4\" />\r\n    <!-- 리뷰 리스트 -->\r\n    <div class=\"reviewList\">\r\n        <div v-for=\"review in filteredReviewList\" :key=\"review\">\r\n            <div class=\"d-grid gap-2 col-10 mx-auto\">\r\n                <button class=\"btn btn-outline-dark\" type=\"button\" @click=\"moveComment(review.rnum)\">\r\n                    <p class=\"text-start \">{{ review.strRdate }}</p>\r\n                    <span class=\"d-inline-block text-truncate\" style=\"max-width: 200px;\">\r\n                        <strong>{{ review.rcontent }}</strong>\r\n                    </span>\r\n                    <p class=\"text-end \">\r\n                        <svg xmlns=\"http://www.w3.org/2000/svg\" width=\"16\" height=\"16\" fill=\"currentColor\" class=\"bi bi-star-fill\" viewBox=\"0 0 16 16\">\r\n                        <path d=\"M3.612 15.443c-.386.198-.824-.149-.746-.592l.83-4.73L.173 6.765c-.329-.314-.158-.888.283-.95l4.898-.696L7.538.792c.197-.39.73-.39.927 0l2.184 4.327 4.898.696c.441.062.612.636.282.95l-3.522 3.356.83 4.73c.078.443-.36.79-.746.592L8 13.187l-4.389 2.256z\"/>\r\n                        </svg> : {{ review.rstar }}   {{ review.mnic }} 님</p>                                   \r\n                </button>\r\n            </div>\r\n        </div>\r\n    </div>\r\n</template>\r\n\r\n<script>\r\nimport axios from 'axios';\r\nexport default {\r\n    data() {\r\n        return {\r\n            listReview: [],  // 리뷰 리스트 정보를 저장할 객체\r\n            sortTimeText: '시간별 정렬',\r\n            sortStatusText: '작성별 정렬'\r\n        };\r\n    },\r\n    // 리뷰 리스트 마운트\r\n    mounted() {\r\n        this.fetchReviewList();\r\n    },\r\n    computed: {\r\n        filteredReviewList() {\r\n            if (this.sortStatusText === '작성 완료') {\r\n                console.log(this.listReview)\r\n                return this.listReview.filter(review => review.rstatus_mikey === 1002);\r\n            } else if (this.sortStatusText === '작성 미완료') {\r\n                console.log(this.listReview)\r\n                return this.listReview.filter(review => review.rstatus_mikey === 1001);\r\n            } else {\r\n                console.log(this.listReview)\r\n                return this.listReview;\r\n            }\r\n        }\r\n    },\r\n    methods: {\r\n        async fetchReviewList() {\r\n            try {\r\n                const response = await axios.post('/JY_B_ReviewList', {bnum: this.$store.state.userBnum});\r\n                this.listReview = response.data.filter(ordering => ordering.bnum === this.$store.state.userBnum).map(review => {\r\n                // 날짜 데이터를 올바른 포맷으로 수정\r\n                review.rdate = this.formatDate(review.rdate);\r\n                return review;\r\n                });\r\n                console.log('Response:', response.data)\r\n            } catch (error) {\r\n                console.error('Error fetching reviewList:', error);\r\n            }\r\n        },\r\n        async moveComment(rnum) {\r\n            try {\r\n                // 라우터를 사용하여 페이지 이동\r\n                this.$router.push({ path: \"/JY_B_ReviewComment\", query: { rnum } });\r\n            } catch (error) {\r\n                console.error('Error fetching reviewComment:', error);\r\n            }\r\n        },\r\n\r\n        formatDate(rdate) {\r\n            if (!rdate) return \"\"; // date 값이 없는 경우 빈 문자열 반환\r\n\r\n            const d = new Date(rdate);\r\n            if (isNaN(d.getTime())) return \"\"; // 유효하지 않은 날짜인 경우 빈 문자열 반환\r\n\r\n            // ISO 형식으로 변환한 날짜를 시간과 분까지만 포맷\r\n            return `${d.toISOString().slice(0, 16).replace('T', ' ')}`;\r\n        },\r\n\r\n        filterByStatus(status) {\r\n            if (status === 1002) {\r\n                this.sortStatusText = '작성 완료';\r\n            } else if (status === 1001) {\r\n                this.sortStatusText = '작성 미완료';\r\n            } \r\n        },\r\n\r\n        sortNewest() {\r\n            // rdate를 기준으로 최신순으로 정렬\r\n            this.listReview.sort((a, b) => new Date(b.rdate) - new Date(a.rdate));\r\n            this.sortTimeText = '최신순'; // 버튼 텍스트 변경\r\n            console.log(this.listReview);\r\n        },\r\n        sortOldest() {\r\n            // rdate를 기준으로 오래된순으로 정렬\r\n            this.listReview.sort((a, b) => new Date(a.rdate) - new Date(b.rdate));\r\n            this.sortTimeText = '오래된순'; // 버튼 텍스트 변경\r\n            console.log(this.listReview);\r\n        }\r\n    }\r\n}\r\n\r\n</script>\r\n\r\n<style>\r\n    .btn-outline-dark {\r\n        margin-top: 10px;\r\n        height: 100px;\r\n        border-color: #F5835D;\r\n    }\r\n\r\n    .btn-primary {\r\n        background-color: #F5835D;\r\n        border-color: #ffe0c7;\r\n    }\r\n\r\n    .dropdown-menu {\r\n        border-color: #F5835D;\r\n    }\r\n\r\n    .dropdown-divider {\r\n        border-color: #F5835D;\r\n    }\r\n\r\n    .bi-star-fill {\r\n        color: #F5835D;\r\n    }\r\n\r\n    .my-4 {\r\n        border-color: blue;\r\n    }\r\n</style>","import { render } from \"./JY_B_ReviewList.vue?vue&type=template&id=d2aab8c4\"\nimport script from \"./JY_B_ReviewList.vue?vue&type=script&lang=js\"\nexport * from \"./JY_B_ReviewList.vue?vue&type=script&lang=js\"\n\nimport \"./JY_B_ReviewList.vue?vue&type=style&index=0&id=d2aab8c4&lang=css\"\n\nimport exportComponent from \"../../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__"],"names":["_createElementVNode","id","class","type","style","xmlns","width","height","fill","viewBox","d","_createElementBlock","_Fragment","_hoisted_1","_hoisted_2","_hoisted_3","_hoisted_4","_toDisplayString","$data","sortStatusText","_hoisted_5","onClick","_cache","$event","$options","filterByStatus","_hoisted_6","_hoisted_7","_hoisted_8","sortTimeText","_hoisted_9","args","sortNewest","_hoisted_10","sortOldest","_hoisted_11","_hoisted_12","_renderList","filteredReviewList","review","key","_hoisted_13","moveComment","rnum","_hoisted_15","strRdate","_hoisted_16","rcontent","_hoisted_17","_hoisted_18","_createTextVNode","rstar","mnic","_hoisted_14","data","listReview","mounted","this","fetchReviewList","computed","console","log","filter","rstatus_mikey","methods","response","axios","post","bnum","$store","state","userBnum","ordering","map","rdate","formatDate","error","$router","push","path","query","Date","isNaN","getTime","toISOString","slice","replace","status","sort","a","b","__exports__","render"],"sourceRoot":""}