"use strict";(self["webpackChunkv2_client"]=self["webpackChunkv2_client"]||[]).push([[497],{5497:function(e,t,s){s.r(t),s.d(t,{default:function(){return M}});var o=s(6768),r=s(5130),a=s(4232);const i=e=>((0,o.Qi)("data-v-d5796872"),e=e(),(0,o.jt)(),e),l={class:"container mt-2"},n={class:"row justify-content-center"},m={class:"col-md-6"},c={class:"card"},u=i((()=>(0,o.Lk)("div",{class:"card-header"},[(0,o.Lk)("h3",{class:"text-center"},"WELCOME"),(0,o.Lk)("h6",{class:"text-center"},"각자 결제하는 배달시스템 더치오더입니다")],-1))),d={class:"card-body"},h={class:"mb-3"},p=i((()=>(0,o.Lk)("label",{for:"username",class:"form-label"},"아이디",-1))),g={class:"mb-3"},v=i((()=>(0,o.Lk)("label",{for:"password",class:"form-label"},"비밀번호",-1))),k={key:0,class:"alert alert-danger mt-2 error-message"},L={class:"mt-2 text-center"};function f(e,t,s,i,f,w){return(0,o.uX)(),(0,o.CE)("div",l,[(0,o.Lk)("div",n,[(0,o.Lk)("div",m,[(0,o.Lk)("div",c,[u,(0,o.Lk)("div",d,[(0,o.Lk)("form",{onSubmit:t[4]||(t[4]=(0,r.D$)(((...e)=>w.login&&w.login(...e)),["prevent"]))},[(0,o.Lk)("div",h,[p,(0,o.bo)((0,o.Lk)("input",{type:"text","onUpdate:modelValue":t[0]||(t[0]=e=>f.memail=e),class:"form-control",id:"username",required:""},null,512),[[r.Jo,f.memail]])]),(0,o.Lk)("div",g,[v,(0,o.bo)((0,o.Lk)("input",{type:"password","onUpdate:modelValue":t[1]||(t[1]=e=>f.mpw=e),class:"form-control",id:"password",required:""},null,512),[[r.Jo,f.mpw]])]),(0,o.Lk)("button",{onClick:t[2]||(t[2]=(...e)=>w.login&&w.login(...e)),type:"submit",class:"btn btn-primary w-100"}," 로그인 "),(0,o.Lk)("button",{onClick:t[3]||(t[3]=(...e)=>w.goToJoin&&w.goToJoin(...e)),class:"btn btn-primary w-100"}," 회원가입 ")],32),f.error?((0,o.uX)(),(0,o.CE)("div",k,(0,a.v_)(f.error),1)):(0,o.Q3)("",!0),(0,o.Lk)("div",L,[(0,o.Lk)("a",{href:"#",onClick:t[5]||(t[5]=(0,r.D$)(((...e)=>w.findMyEmail&&w.findMyEmail(...e)),["prevent"]))},"아이디 찾기"),(0,o.eW)(" | "),(0,o.Lk)("a",{href:"#",onClick:t[6]||(t[6]=(0,r.D$)(((...e)=>w.findMyPw&&w.findMyPw(...e)),["prevent"]))},"비밀번호 찾기")])])])])])])}s(4114);var w=s(8355),y={data(){return{mnum:"",memail:"",mpw:"",error:""}},mounted(){console.log("사용자 레벨:",this.$route.params.level),console.log("회원번호:",this.$route.params.mnum)},methods:{async login(){if(console.log("로그인 시도:",this.memail,this.mpw),this.memail&&this.mpw)try{const e=await w.A.post("/login",{memail:this.memail,mpw:this.mpw});if(console.log("loginResponse : ",e.data),!0===e.data){const e=await this.getUserLevel(this.memail),t=await this.getUserMnum(this.memail);this.$store.commit("setLoginStatus",!0),this.$store.commit("setUserLevel",e),this.$store.commit("setUserMnum",t);const s=101===e?"/client/home":102===e?"/business/home":"/admin/home";this.$router.push(s)}else this.$store.commit("setLoginStaus",!1),this.error="아이디 또는 비밀번호가 잘못되었습니다."}catch(e){this.$store.commit("setLoginStaus",!1),console.error("로그인 중 오류가 발생했습니다.",e),this.error="로그인 중 오류가 발생했습니다."}else this.error="아이디와 암호를 입력해주세요."},async getUserLevel(e){console.log(e);try{const t=await w.A.post("/getUserLevel",{memail:e});return t.data}catch(t){console.log(t)}},async getUserMnum(e){console.log(e);try{const t=await w.A.post("/getUserMnum",{memail:e});return t.data}catch(t){console.log(t)}},goToJoin(){const e=this.$route.params.level;this.$router.push({path:`/${e}/join`}),console.log("회원가입 페이지로 이동")},findMyEmail(){const e=this.$route.params.level;this.$router.push({path:`/${e}/findMyEmail`}),console.log("아이디 찾기 페이지로 이동")},findMyPw(){const e=this.$route.params.level;this.$router.push({path:`/${e}/findMyPw`}),console.log("비밀번호 찾기 페이지로 이동")}}},b=s(1241);const $=(0,b.A)(y,[["render",f],["__scopeId","data-v-d5796872"]]);var M=$}}]);
//# sourceMappingURL=497.44a006fa.js.map