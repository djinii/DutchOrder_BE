{"version":3,"file":"js/386.2517998a.js","mappings":"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","sources":["webpack://v2_client/./src/views/client/JY_C_ReviewList.vue","webpack://v2_client/./src/views/client/JY_C_ReviewList.vue?fd46"],"sourcesContent":["<template>\r\n    <div id=\"pageName\">\r\n        <h2>리뷰목록 -개인-</h2>\r\n    </div>\r\n    <hr class=\"my-4\" />\r\n    <!-- 작성별 드롭다운 -->\r\n    <div id=\"answerSort\" class=\"dropdown dropend\">\r\n        <button class=\"btn btn-secondary dropdown-toggle\" type=\"button\" data-bs-toggle=\"dropdown\" aria-expanded=\"false\">\r\n            {{ sortStatusText }}\r\n        </button>\r\n        <ul class=\"dropdown-menu\">\r\n            <li><a id=\"writeComplete\" class=\"dropdown-item\" @click=\"filterByStatus(0)\">작성 미완료</a></li>\r\n            <li><a id=\"writeIncomplete\" class=\"dropdown-item\" @click=\"filterByStatus(1)\">작성 완료</a></li>\r\n        </ul>\r\n    </div>\r\n    <!-- 시간별 드롭다운 -->\r\n    <div id=\"timeSort\" class=\"dropdown dropend\">\r\n        <button class=\"btn btn-secondary dropdown-toggle\" type=\"button\" data-bs-toggle=\"dropdown\" aria-expanded=\"false\">\r\n            {{ sortTimeText }}\r\n        </button>\r\n        <ul class=\"dropdown-menu\">\r\n            <li><a id=\"newest\" class=\"dropdown-item\" @click=\"sortNewest\">최신순</a></li>\r\n            <li><a id=\"oldest\" class=\"dropdown-item\" @click=\"sortOldest\">오래된순</a></li>\r\n        </ul>\r\n    </div>\r\n    <hr class=\"my-4\" />\r\n    <!-- 가게, 주문목록 보기 (ostatus_mikey가 805일때만) -->\r\n    <div class=\"shopInfo\" v-for=\"ordering in filteredShopList\" :key=\"ordering\" >\r\n        <div v-if=\"ordering.ostatus_mikey === 805\">\r\n            <div class=\"card mb-3\" style=\"max-width: 540px;\">\r\n                <div class=\"row g-0\">\r\n                    <div class=\"col-md-4\">\r\n                        <img :src=\"ordering.simg1\" class=\"img-fluid rounded-start\" alt=\"...\">\r\n                    </div>\r\n                    <div class=\"col-md-8\">\r\n                        <div class=\"card-body\">\r\n                            <p class=\"card-text\"><small class=\"text-body-secondary\">{{ordering.strOdate}}</small></p>\r\n                            <h5 class=\"card-title\">{{ordering.sname}}</h5>\r\n                            <button v-if=\"ordering.rnum > 0\" class=\"btn btn-secondary\" type=\"button\" @click=\"moveMyReview(ordering.rnum)\">작성한 리뷰 보기</button>\r\n                            <button v-else class=\"btn btn-primary\" type=\"button\" @click=\"moveWrite(ordering.onum)\">리뷰 작성하기</button>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        </div>          \r\n    </div>\r\n</template>\r\n\r\n<script>\r\nimport axios from 'axios';\r\nexport default {\r\n    data() {\r\n        return {\r\n            shopList: [],  // 가게 리스트 정보를 저장할 객체\r\n            sortTimeText: '시간별 정렬',\r\n            sortStatusText: '작성별 정렬'\r\n        };\r\n    },\r\n    // 리뷰 리스트 마운트\r\n    mounted() {\r\n        this.fetchShopList();\r\n    },\r\n    computed: {\r\n        filteredShopList() {\r\n            if (this.sortStatusText === '작성 완료') {\r\n                console.log(this.shopList)\r\n                // rnum 값이 있으면 작성완료\r\n                return this.shopList.filter(ordering => ordering.rnum > 0);\r\n            } else if (this.sortStatusText === '작성 미완료') {\r\n                console.log(this.shopList)\r\n                // rnum 값이 없으면 작성미완료\r\n                return this.shopList.filter(ordering => ordering.rnum === 0);\r\n            } else {\r\n                console.log(this.shopList)\r\n                return this.shopList;\r\n            }\r\n        }\r\n    },\r\n    methods: {\r\n        async fetchShopList() {\r\n            try {\r\n                const response = await axios.post('/JY_C_ReviewList', {});\r\n                this.shopList = response.data.map(ordering => {\r\n                // 날짜 데이터를 올바른 포맷으로 수정\r\n                ordering.odate = this.formatDate(ordering.odate);\r\n                // simg1 필드가 있는지 확인하고, 없으면 빈 문자열로 설정\r\n                ordering.simg1 = ordering.simg1 ? ordering.simg1 : '';\r\n                return ordering;\r\n                });\r\n                console.log('Response:', response.data)\r\n            } catch (error) {\r\n                console.error('Error fetching shopList:', error);\r\n            }\r\n        },\r\n        async moveWrite(onum) {\r\n            try {\r\n                // 라우터를 사용하여 페이지 이동\r\n                this.$router.push({ path: \"/JY_C_ReviewWrite\", query: { onum } });\r\n            } catch (error) {\r\n                console.error('Error fetching reviewWrite:', error);\r\n            }\r\n        },\r\n\r\n        async moveMyReview(rnum) {\r\n            try {\r\n                // 라우터를 사용하여 페이지 이동\r\n                this.$router.push({ path: \"/JY_C_MyReview\", query: { rnum } });\r\n            } catch (error) {\r\n                console.error('Error fetching reviewWrite:', error);\r\n            }\r\n        },\r\n\r\n        formatDate(odate) {\r\n            if (!odate) return \"\"; // date 값이 없는 경우 빈 문자열 반환\r\n\r\n            const d = new Date(odate);\r\n            if (isNaN(d.getTime())) return \"\"; // 유효하지 않은 날짜인 경우 빈 문자열 반환\r\n\r\n            // ISO 형식으로 변환한 날짜를 시간과 분까지만 포맷\r\n            return `${d.toISOString().slice(0, 16).replace('T', ' ')}`;\r\n        },\r\n\r\n        filterByStatus(status) {\r\n            if (status === 1) {\r\n                this.sortStatusText = '작성 완료';\r\n            } else if (status === 0) {\r\n                this.sortStatusText = '작성 미완료';\r\n            } \r\n        },\r\n\r\n        sortNewest() {\r\n            // rdate를 기준으로 최신순으로 정렬\r\n            this.shopList.sort((a, b) => new Date(b.odate) - new Date(a.odate));\r\n            this.sortTimeText = '최신순'; // 버튼 텍스트 변경\r\n            console.log(this.shopList);\r\n        },\r\n        sortOldest() {\r\n            // rdate를 기준으로 오래된순으로 정렬\r\n            this.shopList.sort((a, b) => new Date(a.odate) - new Date(b.odate));\r\n            this.sortTimeText = '오래된순'; // 버튼 텍스트 변경\r\n            console.log(this.shopList);\r\n        }\r\n    }\r\n}\r\n\r\n</script>\r\n\r\n<style>\r\n\r\n</style>","import { render } from \"./JY_C_ReviewList.vue?vue&type=template&id=3c2cb2b7\"\nimport script from \"./JY_C_ReviewList.vue?vue&type=script&lang=js\"\nexport * from \"./JY_C_ReviewList.vue?vue&type=script&lang=js\"\n\nimport exportComponent from \"../../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__"],"names":["_createElementVNode","id","class","type","key","style","_createElementBlock","_Fragment","_hoisted_1","_hoisted_2","_hoisted_3","_hoisted_4","_toDisplayString","$data","sortStatusText","_hoisted_5","onClick","_cache","$event","$options","filterByStatus","_hoisted_6","_hoisted_7","sortTimeText","_hoisted_8","args","sortNewest","sortOldest","_hoisted_9","_renderList","filteredShopList","ordering","ostatus_mikey","_hoisted_10","_hoisted_11","_hoisted_12","_hoisted_13","src","simg1","alt","_hoisted_14","_hoisted_15","_hoisted_16","_hoisted_17","_hoisted_18","strOdate","_hoisted_19","sname","rnum","moveMyReview","_hoisted_20","moveWrite","onum","_hoisted_21","_createCommentVNode","data","shopList","mounted","this","fetchShopList","computed","console","log","filter","methods","response","axios","post","map","odate","formatDate","error","$router","push","path","query","d","Date","isNaN","getTime","toISOString","slice","replace","status","sort","a","b","__exports__","render"],"sourceRoot":""}