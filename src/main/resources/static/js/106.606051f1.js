"use strict";(self["webpackChunkv2_client"]=self["webpackChunkv2_client"]||[]).push([[106],{1106:function(e,a,t){t.r(a),t.d(a,{default:function(){return O}});var s=t(6768),l=t(4232),o=t(5130);const n={class:"container mt-5",style:{height:"800px","overflow-y":"auto"}},r={class:"row justify-content-center"},i={class:"col-md-7 col-lg-8"},d=(0,s.Lk)("h4",{class:"mb-3"},"가게정보 수정",-1),c={class:"row g-3"},m={class:"col-sm-6"},u={for:"ShopName",class:"form-label"},p=(0,s.Lk)("div",{class:"invalid-feedback"},"Valid first name is required.",-1),b={class:"col-sm-6"},h={for:"category",class:"form-label"},f=(0,s.Lk)("div",{class:"invalid-feedback"},"Valid last name is required.",-1),k={class:"col-12"},v=(0,s.Lk)("label",{for:"time",class:"form-label"},"운영시간",-1),y=(0,s.Lk)("div",{class:"invalid-feedback"},"시간을 입력해주세요.",-1),L={class:"form-group col-md-5"},g=(0,s.Lk)("label",{for:"my_number"},"전화번호",-1),_={class:"col-12"},M=(0,s.Lk)("label",{for:"address",class:"form-label"},"주소",-1),U=(0,s.Lk)("div",{class:"invalid-feedback"}," Please enter your shipping address. ",-1),D=(0,s.Lk)("button",{type:"submit",class:"btn btn-primary"},"저장",-1);function C(e,a,t,C,x,F){const N=(0,s.g2)("B_MenuPlusMD");return(0,s.uX)(),(0,s.CE)("div",n,[(0,s.Lk)("div",r,[(0,s.Lk)("div",i,[d,(0,s.Lk)("h2",null,(0,l.v_)(x.shop.sname),1),(0,s.Lk)("form",{class:"needs-validation",onSubmit:a[6]||(a[6]=(0,o.D$)(((...e)=>F.submitForm&&F.submitForm(...e)),["prevent"]))},[(0,s.Lk)("div",c,[(0,s.Lk)("div",m,[(0,s.Lk)("label",u,"상호명: "+(0,l.v_)(e.shopName),1),(0,s.bo)((0,s.Lk)("input",{type:"text",class:"form-control",id:"ShopName","onUpdate:modelValue":a[0]||(a[0]=a=>e.shopName=a),readonly:"",disabled:""},null,512),[[o.Jo,e.shopName]]),p]),(0,s.Lk)("div",b,[(0,s.Lk)("label",h,"분류"+(0,l.v_)(x.category),1),(0,s.bo)((0,s.Lk)("input",{type:"text",class:"form-control",id:"category","onUpdate:modelValue":a[1]||(a[1]=e=>x.category=e),readonly:"",disabled:""},null,512),[[o.Jo,x.category]]),f]),(0,s.Lk)("div",k,[v,(0,s.bo)((0,s.Lk)("input",{type:"text",class:"form-control",id:"start",placeholder:"운영시작시간","onUpdate:modelValue":a[2]||(a[2]=e=>x.start=e),required:""},null,512),[[o.Jo,x.start]]),(0,s.bo)((0,s.Lk)("input",{type:"text",class:"form-control",id:"end",placeholder:"운영종료시간","onUpdate:modelValue":a[3]||(a[3]=e=>x.end=e),required:""},null,512),[[o.Jo,x.end]]),y]),(0,s.Lk)("div",L,[g,(0,s.bo)((0,s.Lk)("input",{type:"tel",class:"form-control",name:"my_number",id:"my_pnumber",maxlength:"13",placeholder:"전화번호","onUpdate:modelValue":a[4]||(a[4]=a=>e.phoneNumber=a),readonly:"",disabled:""},null,512),[[o.Jo,e.phoneNumber]])]),(0,s.Lk)("div",_,[M,(0,s.bo)((0,s.Lk)("input",{type:"text",class:"form-control",id:"address","onUpdate:modelValue":a[5]||(a[5]=a=>e.address=a),readonly:"",disabled:""},null,512),[[o.Jo,e.address]]),U]),(0,s.bF)(N,{bnum:x.bnum},null,8,["bnum"]),D])],32)])])])}const x=(0,s.Lk)("button",{type:"button",class:"btn btn-primary","data-bs-toggle":"modal","data-bs-target":"#B_MenuPlus"}," 메뉴추가하기 ",-1),F={class:"modal fade",id:"B_MenuPlus",tabindex:"-1","aria-labelledby":"exampleModalLabel","aria-hidden":"true"},N={class:"modal-dialog"},B={class:"modal-content"},P=(0,s.Lk)("div",{class:"modal-header"},[(0,s.Lk)("h1",{class:"modal-title fs-5",id:"exampleModalLabel"},"메뉴추가하기"),(0,s.Lk)("button",{type:"button",class:"btn-close","data-bs-dismiss":"modal","aria-label":"Close"})],-1),S={class:"modal-body"},w=["src"],V={class:"modal-footer"},q=(0,s.Lk)("button",{type:"button",class:"btn btn-secondary","data-bs-dismiss":"modal"}," Close ",-1);function A(e,a,t,l,o,n){const r=(0,s.g2)("B_MenuPluse");return(0,s.uX)(),(0,s.CE)(s.FK,null,[x,(0,s.Lk)("div",F,[(0,s.Lk)("div",N,[(0,s.Lk)("div",B,[P,(0,s.Lk)("div",S,[(0,s.bF)(r),(0,s.Lk)("input",{type:"file",ref:"fileInput",onChange:a[0]||(a[0]=(...e)=>n.handleFileUpload&&n.handleFileUpload(...e)),accept:"image/*"},null,544),o.imageUrl?((0,s.uX)(),(0,s.CE)("img",{key:0,src:o.imageUrl,alt:"Uploaded Image"},null,8,w)):(0,s.Q3)("",!0)]),(0,s.Lk)("div",V,[q,(0,s.Lk)("button",{type:"button",class:"btn btn-primary",onClick:a[1]||(a[1]=(...e)=>n.saveChanges&&n.saveChanges(...e))}," Save changes ")])])])])],64)}const J=(0,s.Fv)('<div class="mb-2"><label for="menuName" class="form-label">메뉴 이름</label><input type="text" class="form-control" id="menuName" required></div><div class="mb-3"><label for="menuDescription" class="form-label">메뉴 설명</label><textarea class="form-control" id="menuDescription" required></textarea></div><div class="mb-3"><label for="menuPrice" class="form-label">메뉴 가격</label><input type="number" class="form-control" id="menuPrice" required></div>',3),I=[J];function E(e,a,t,l,n,r){return(0,s.uX)(),(0,s.CE)("form",{onSubmit:a[0]||(a[0]=(0,o.D$)(((...a)=>e.addMenu&&e.addMenu(...a)),["prevent"]))},I,32)}var X={name:"B_MenuPluse"},R=t(1241);const $=(0,R.A)(X,[["render",E]]);var T=$,j=t(8355),K={name:"B_MenuPlusMD",components:{B_MenuPluse:T},props:{bnum:Number},data(){return{imageUrl:null,formData:{fname:"",finfo:"",fprice:""}}},methods:{handleFileUpload(e){const a=e.target.files[0];if(!a)return;const t=new FileReader;t.onload=e=>{this.imageUrl=e.target.result},t.readAsDataURL(a)},saveChanges(){const e=new FormData;e.append("fname",this.formData.fname),e.append("finfo",this.formData.finfo),e.append("fprice",this.formData.fprice),console.log("formData:",e),j.A.post("/MenuInsert",e,{headers:{"Content-Type":"multipart/form-data"}}).then((e=>{console.log("메뉴 추가 성공:",e.data)})).catch((e=>{console.error("메뉴 추가 실패:",e)}))}}};const Q=(0,R.A)(K,[["render",A]]);var z=Q,G={name:"B_ShopRevise",components:{B_MenuPlusMD:z},data(){return{shop:[],category:"",start:"",end:"",bnum:1003}},watch:{start(e){4===e.length&&(this.start=e.slice(0,2)+":"+e.slice(2))},end(e){4===e.length&&(this.end=e.slice(0,2)+":"+e.slice(2))}},created(){this.fetchStoreInfo(this.bnum)},methods:{fetchStoreInfo(e){j.A.get(`/B_ShopDetail?bnum=${e}`).then((e=>{this.shop=e.data,console.log("가게 정보 데이터:",e.data),this.shopName=this.shop.sname,this.category=this.shop.fcategory_mikey,this.phoneNumber=this.shop.stel,this.address=this.shop.saddr,this.start=this.shop.start_time,this.end=this.shop.end_time,this.name=this.shop.mname})).catch((e=>{console.error("가게 정보 가져오기 실패:",e)}))},submitForm(){const e={bnum:this.bnum,start_time:this.start,end_time:this.end};j.A.post("/B_ShopTimeUpdate",e).then((e=>{console.log("서버 응답:",e.data)})).catch((e=>{console.error("서버 요청 실패:",e)}))}}};const H=(0,R.A)(G,[["render",C]]);var O=H}}]);
//# sourceMappingURL=106.606051f1.js.map