{"version":3,"file":"js/50.a1551356.js","mappings":"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","sources":["webpack://v2_client/./src/views/client/JY_C_ReviewWrite.vue","webpack://v2_client/./src/views/client/JY_C_ReviewWrite.vue?3c01"],"sourcesContent":["\r\n<template>\r\n    <div id=\"pageName\">\r\n        <h2 class=\"text-center\">리뷰작성</h2>\r\n    </div>\r\n    <hr class=\"my-4\" />\r\n    <!-- 가게 점수주기 -->\r\n    <div id=\"starRating\" class=\"btn-group\" role=\"group\" aria-label=\"Basic radio toggle button group\">\r\n        <input type=\"radio\" class=\"btn-check\" name=\"btnradio\" id=\"btnradio1\" autocomplete=\"off\" @click=\"selectRating(1)\">\r\n        <label class=\"btn btn-outline-primary\" for=\"btnradio1\">1</label>\r\n\r\n        <input type=\"radio\" class=\"btn-check\" name=\"btnradio\" id=\"btnradio2\" autocomplete=\"off\" @click=\"selectRating(2)\">\r\n        <label class=\"btn btn-outline-primary\" for=\"btnradio2\">2</label>\r\n\r\n        <input type=\"radio\" class=\"btn-check\" name=\"btnradio\" id=\"btnradio3\" autocomplete=\"off\" @click=\"selectRating(3)\">\r\n        <label class=\"btn btn-outline-primary\" for=\"btnradio3\">3</label>\r\n\r\n        <input type=\"radio\" class=\"btn-check\" name=\"btnradio\" id=\"btnradio4\" autocomplete=\"off\" @click=\"selectRating(4)\">\r\n        <label class=\"btn btn-outline-primary\" for=\"btnradio4\">4</label>\r\n\r\n        <input type=\"radio\" class=\"btn-check\" name=\"btnradio\" id=\"btnradio5\" autocomplete=\"off\" @click=\"selectRating(5)\">\r\n        <label class=\"btn btn-outline-primary\" for=\"btnradio5\">5</label>\r\n    </div> \r\n    <h2>\r\n        <svg xmlns=\"http://www.w3.org/2000/svg\" width=\"16\" height=\"16\" fill=\"currentColor\" class=\"bi bi-star-fill\" viewBox=\"0 0 16 16\">\r\n        <path d=\"M3.612 15.443c-.386.198-.824-.149-.746-.592l.83-4.73L.173 6.765c-.329-.314-.158-.888.283-.95l4.898-.696L7.538.792c.197-.39.73-.39.927 0l2.184 4.327 4.898.696c.441.062.612.636.282.95l-3.522 3.356.83 4.73c.078.443-.36.79-.746.592L8 13.187l-4.389 2.256z\"/>\r\n        </svg> : {{ myRating }}\r\n    </h2>\r\n    <hr class=\"my-4\" />\r\n    <!-- 리뷰 사진 첨부 -->\r\n    <div id=\"reviewImg\" class=\"custom-file\">\r\n        <input id=\"customFile\" type=\"file\" ref=\"image\" @change=\"upload\"/>\r\n        <label class=\"custom-file-label\" for=\"customFile\"> \r\n            <svg xmlns=\"http://www.w3.org/2000/svg\" width=\"50\" height=\"50\" fill=\"currentColor\" class=\"bi bi-card-image\" viewBox=\"0 0 16 16\">\r\n                <path d=\"M6.002 5.5a1.5 1.5 0 1 1-3 0 1.5 1.5 0 0 1 3 0\"/>\r\n                <path d=\"M1.5 2A1.5 1.5 0 0 0 0 3.5v9A1.5 1.5 0 0 0 1.5 14h13a1.5 1.5 0 0 0 1.5-1.5v-9A1.5 1.5 0 0 0 14.5 2zm13 1a.5.5 0 0 1 .5.5v6l-3.775-1.947a.5.5 0 0 0-.577.093l-3.71 3.71-2.66-1.772a.5.5 0 0 0-.63.062L1.002 12v.54L1 12.5v-9a.5.5 0 0 1 .5-.5z\"/>\r\n            </svg>\r\n        </label>\r\n    </div>\r\n    <br>\r\n    <!-- 이미지 미리보기 -->\r\n    <div id=\"imagePreview\">\r\n        <img v-if=\"imageUrl\" :src=\"imageUrl\" class=\"rounded mx-auto d-block\" style=\"max-width: 100%; max-height: 300px;\" />\r\n    </div>\r\n    <!-- 리뷰 입력란 -->\r\n    <div id=\"reviewWrite\" class=\"form-floating\">\r\n        <textarea v-model=\"reviewContent\" class=\"form-control\" :placeholder=\"contentPh\" id=\"floatingTextarea2\" style=\"height: 300px\"></textarea>\r\n        <label for=\"floatingTextarea2\">리뷰 입력</label>\r\n    </div>\r\n    <hr class=\"my-4\" />\r\n    <!-- 버튼 -->\r\n    <div class=\"reviewButton\">\r\n        <div id=\"liveAlertPlaceholder\">\r\n            <strong>{{ message }}</strong>\r\n        </div>\r\n        <button id=\"liveAlertBtn\" class=\"btn btn-primary\" @click=\"submitReviewWrite\">리뷰작성완료</button>\r\n    </div>\r\n</template>\r\n\r\n<script>\r\nimport axios from 'axios';\r\n\r\nexport default {\r\n    data() {\r\n        return {\r\n            info: {},\r\n            reviewContent: '',\r\n            myRating: '',\r\n            image: null,\r\n            imageUrl: null,\r\n            message: '',\r\n            ratingPh: '별점을 주세요',\r\n            contentPh: '내용을 입력하세요',\r\n        }\r\n    },\r\n    mounted() {\r\n        this.fetchWrtieInfo();\r\n    },\r\n    methods: {\r\n        async fetchWrtieInfo() {\r\n            try {\r\n            // HTTP POST 요청을 통해 리뷰 세부 정보를 가져옴\r\n                const response = await axios.post('/JY_C_WriteInfo', { onum: this.$route.query.onum}); \r\n                // 가져온 세부 정보를 저장\r\n                this.info = response.data;\r\n                this.mnum = this.info.mnum; // mnum 할당\r\n                this.bnum = this.info.bnum; // bnum 할당\r\n                this.onum = this.info.onum; // onum 할당\r\n                console.log('kkk Response:', response.data);\r\n\r\n            } catch (error) {\r\n                console.error('Error fetching writeInfo:', error);\r\n            }\r\n        },\r\n        // 사진 변환 메소드 (base64 형식: 데이터를 텍스트 형식으로 변환하는 인코딩 방식{데이터 크기가 증가함})\r\n        async upload() {\r\n            // 사용자가 선택한 이미지 파일을 가져옴\r\n            this.image = this.$refs.image.files[0];\r\n            console.log(this.image);\r\n\r\n            // 만약 이미지가 선택되지 않은 경우에는 처리를 종료\r\n            if (!this.image) return;\r\n\r\n            // 객체를 생성, 이 객체를 사용하여 파일을 읽을 수 있음\r\n            const reader = new FileReader();\r\n            // 파일을 성공적으로 읽었을 때 발생하는 이벤트\r\n            reader.onload = (e) => {\r\n                // 이미지 파일이 읽혔을 때 발생하는 onload 이벤트 핸들러에서\r\n                // `e.target.result`를 사용하여 데이터 URL을 가져와 this.imageUrl 변수에 할당\r\n                this.imageUrl = e.target.result;\r\n            };\r\n            // FileReader 객체를 사용하여 이미지 파일을 데이터 URL로 읽어들임\r\n            // 데이터 URL은 파일을 텍스트 형식으로 인코딩한 문자열\r\n            reader.readAsDataURL(this.image);\r\n        },\r\n\r\n        // 작성완료 클릭시 실행되는 메소드\r\n        async submitReviewWrite() {\r\n            // 별점, 내용칸이 비어있으면 해당 알림이 뜨도록 설정\r\n            if (!this.myRating) {\r\n                this.message = this.ratingPh;\r\n                return;\r\n            }\r\n            if (this.reviewContent.trim() === '') {\r\n                this.message = this.contentPh;\r\n                return;\r\n            }\r\n\r\n            try {\r\n                const currentTime = new Date(); // 현재 시간\r\n                const reviewData = {\r\n                    onum: this.onum,\r\n                    mnum: this.mnum,\r\n                    bnum: this.bnum,\r\n                    rcontent: this.reviewContent,\r\n                    rstar: this.myRating,\r\n                    rdate: currentTime.toISOString(),\r\n                    rstatus_makey: 1000,\r\n                    rstatus_mikey: 1001,\r\n                    rcomment: null,\r\n                };\r\n                // 이미지가 존재하는 경우에만 이미지 URL 추가\r\n                if (this.imageUrl) {\r\n                    reviewData.rimg = this.imageUrl;\r\n                }\r\n                console.log(\"reviewData->\"+reviewData); // 서버 응답 확인\r\n\r\n                const response = await axios.post('/JY_C_ReviewWrite', reviewData);\r\n\r\n                // 서버로부터 응답을 받았을 때 실행할 작업\r\n                console.log(response.data); // 서버 응답 확인\r\n                // 성공적으로 작성된 경우 알람이 뜸\r\n                alert('리뷰가 성공적으로 작성되었습니다.');\r\n                // 성공알람 확인후 리스트로 이동\r\n                this.$router.push('/JY_C_ReviewList');\r\n            } catch (error) {\r\n                // 에러가 발생했을 때 실행할 작업\r\n                console.error('Error fetching reviewWrite', error);\r\n                // 에러 메시지 표시\r\n                alert('리뷰 작성에 실패했습니다.');\r\n            }\r\n        },\r\n        selectRating(score) {\r\n            this.myRating = score;\r\n        }   \r\n    }\r\n}\r\n</script>\r\n\r\n<style>\r\n    .btn-primary {\r\n        background-color: #F5835D;\r\n        border-color: #ffe0c7;\r\n    }\r\n\r\n    .bi-star-fill {\r\n        color: #F5835D;\r\n    }\r\n\r\n    .bi-card-image {\r\n        color: #F5835D;\r\n        margin: auto;\r\n    }\r\n\r\n    #customFile {\r\n        display: none;\r\n    }\r\n\r\n    .my-4 {\r\n        border-color: blue;\r\n    }\r\n</style>","import { render } from \"./JY_C_ReviewWrite.vue?vue&type=template&id=3078d8dc\"\nimport script from \"./JY_C_ReviewWrite.vue?vue&type=script&lang=js\"\nexport * from \"./JY_C_ReviewWrite.vue?vue&type=script&lang=js\"\n\nimport \"./JY_C_ReviewWrite.vue?vue&type=style&index=0&id=3078d8dc&lang=css\"\n\nimport exportComponent from \"../../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__"],"names":["_createElementVNode","id","class","role","for","xmlns","width","height","fill","viewBox","d","_createElementBlock","_Fragment","_hoisted_1","_hoisted_2","_hoisted_3","type","name","autocomplete","onClick","_cache","$event","$options","selectRating","_hoisted_4","_hoisted_5","_hoisted_6","_hoisted_7","_hoisted_8","_hoisted_9","_createTextVNode","_toDisplayString","$data","myRating","_hoisted_10","_hoisted_11","ref","onChange","args","upload","_hoisted_12","_hoisted_13","_hoisted_14","imageUrl","key","src","style","_hoisted_15","_createCommentVNode","_hoisted_16","reviewContent","placeholder","contentPh","_hoisted_17","_hoisted_18","_hoisted_19","_hoisted_20","_hoisted_21","message","submitReviewWrite","data","info","image","ratingPh","mounted","this","fetchWrtieInfo","methods","response","axios","post","onum","$route","query","mnum","bnum","console","log","error","$refs","files","reader","FileReader","onload","e","target","result","readAsDataURL","trim","currentTime","Date","reviewData","rcontent","rstar","rdate","toISOString","rstatus_makey","rstatus_mikey","rcomment","rimg","alert","$router","push","score","__exports__","render"],"sourceRoot":""}