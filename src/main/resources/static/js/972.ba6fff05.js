"use strict";(self["webpackChunkv2_client"]=self["webpackChunkv2_client"]||[]).push([[972],{7972:function(t,e,a){a.r(e),a.d(e,{default:function(){return N}});var r=a(6768),s=a(4232);const n={class:"nav nav-tabs",id:"nav-tab",role:"tablist"},o=["id","data-bs-target","aria-controls","aria-selected","onClick"],i={class:"tab-content",id:"nav-tabContent"},d=["id","aria-labelledby"],l={class:"container"},u={class:"row"};function c(t,e,a,c,m,b){const v=(0,r.g2)("B_Ordcard"),k=(0,r.g2)("B_OrdSpecCard");return(0,r.uX)(),(0,r.CE)("div",null,[(0,r.Lk)("nav",null,[(0,r.Lk)("div",n,[((0,r.uX)(!0),(0,r.CE)(r.FK,null,(0,r.pI)(m.tabs,((t,e)=>((0,r.uX)(),(0,r.CE)("button",{key:e,class:(0,s.C4)({"nav-link":!0,active:e===m.activeTabIndex}),id:"nav-"+t.id+"-tab","data-bs-toggle":"tab","data-bs-target":"#nav-"+t.id,type:"button",role:"tab","aria-controls":"nav-"+t.id,"aria-selected":e===m.activeTabIndex,onClick:t=>b.changeTab(e)},(0,s.v_)(t.name),11,o)))),128))])]),(0,r.Lk)("div",i,[((0,r.uX)(!0),(0,r.CE)(r.FK,null,(0,r.pI)(m.tabs,((t,e)=>((0,r.uX)(),(0,r.CE)("div",{key:e,id:"nav-"+t.id,class:(0,s.C4)(["tab-pane fade",{"show active":e===m.activeTabIndex}]),role:"tabpanel","aria-labelledby":"nav-"+t.id+"-tab"},[(0,r.Lk)("div",l,[(0,r.Lk)("div",u,["home"===t.id?((0,r.uX)(),(0,r.Wv)(v,{key:0,bnum:m.bnum},null,8,["bnum"])):((0,r.uX)(),(0,r.Wv)(k,{key:1,bnum:m.bnum,orderStatus:t.orderStatus},null,8,["bnum","orderStatus"]))])])],10,d)))),128))])])}const m={class:"container",style:{"max-height":"500px","overflow-y":"auto"}},b={class:"row"},v={class:"card mt-3",style:{width:"18rem"}},k=(0,r.Lk)("h5",{class:"card-title"},"이미지",-1),h={class:"card-body"},p={class:"card",style:{width:"16rem"}},L={class:"list-group list-group-flush"},y={class:"list-group-item"},g={class:"list-group-item"},f={class:"list-group-item"},C=(0,r.Lk)("p",null,null,-1),O=(0,r.Lk)("button",{type:"button"},"상세보기",-1);function w(t,e,a,n,o,i){return(0,r.uX)(),(0,r.CE)("div",m,[(0,r.Lk)("div",b,[((0,r.uX)(!0),(0,r.CE)(r.FK,null,(0,r.pI)(i.uniqueOrders,((a,n)=>((0,r.uX)(),(0,r.CE)("div",{key:n,class:"col-3 mb-3"},[(0,r.Lk)("div",v,[k,(0,r.Lk)("div",h,[(0,r.Lk)("div",p,[(0,r.Lk)("ul",L,[(0,r.Lk)("li",y," 주문일시: "+(0,s.v_)(i.formatDate(a.odate)),1),(0,r.Lk)("li",g,"주문번호: "+(0,s.v_)(a.osnum),1),(0,r.Lk)("li",f,"사업자번호: "+(0,s.v_)(a.bnum),1)])]),C,(0,r.Lk)("button",{type:"button",onClick:e[0]||(e[0]=(...e)=>t.setOstatusMikey&&t.setOstatusMikey(...e))},"확인"),O])])])))),128))])])}var _=a(8355),S={name:"B_OrdSpecCard",props:["orderStatus","bnum"],data(){return{orderList:[]}},mounted(){this.fetchOrderList()},computed:{uniqueOrders(){const t={};return this.filteredOrders.forEach((e=>{t[e.osnum]||(t[e.osnum]=e)})),Object.values(t)},filteredOrders(){return this.orderStatus&&0!==this.orderStatus.length?this.orderList.filter((t=>t.ostatus_mikey===this.orderStatus&&t.bnum===this.bnum)):[]}},methods:{formatDate(t){const e=new Date(t);return e.toLocaleString()},async fetchOrderList(){try{const t=await _.A.get("http://localhost:8888/B_Ordering");this.orderList=t.data.sort(((t,e)=>new Date(e.odate)-new Date(t.odate))),console.log("Response:",t.data)}catch(t){console.error("Error fetching orderList:",t)}}}},E=a(1241);const X=(0,E.A)(S,[["render",w]]);var D=X;const x={class:"container",style:{"max-height":"500px","overflow-y":"auto"}},B={class:"row"},I={key:0,class:"card mt-3",style:{width:"18rem"}},T=(0,r.Lk)("h5",{class:"card-title"},"이미지",-1),A={class:"card-body"},q={class:"card",style:{width:"16rem"}},F={class:"list-group list-group-flush"},K={class:"list-group-item"},M={class:"list-group-item"},R={class:"list-group-item"},W=(0,r.Lk)("p",null,null,-1),j=["onClick"],P=(0,r.Lk)("button",{type:"button"},"상세보기",-1);function Q(t,e,a,n,o,i){return(0,r.uX)(),(0,r.CE)("div",x,[(0,r.Lk)("div",B,[((0,r.uX)(!0),(0,r.CE)(r.FK,null,(0,r.pI)(i.uniqueOrders,((t,e)=>((0,r.uX)(),(0,r.CE)("div",{key:e,class:"col-3 mb-3"},[t.bnum===a.bnum?((0,r.uX)(),(0,r.CE)("div",I,[T,(0,r.Lk)("div",A,[(0,r.Lk)("div",q,[(0,r.Lk)("ul",F,[(0,r.Lk)("li",K," 주문일시: "+(0,s.v_)(i.formatDate(t.odate)),1),(0,r.Lk)("li",M,"주문번호: "+(0,s.v_)(t.osnum),1),(0,r.Lk)("li",R,"사업자번호: "+(0,s.v_)(t.bnum),1)])]),W,(0,r.Lk)("button",{type:"button",onClick:e=>i.setOstatusMikey(t)},"확인",8,j),P])])):(0,r.Q3)("",!0)])))),128))])])}var U={name:"B_Ordcard",components:{},props:{bnum:{type:String,required:!0}},data(){return{orderList:[]}},mounted(){this.fetchOrderList()},computed:{uniqueOrders(){return this.orderList.filter((t=>t.bnum===this.bnum))}},methods:{formatDate(t){const e=new Date(t);return e.toLocaleString()},async fetchOrderList(){try{const t=await _.A.get("http://localhost:8888/B_Ordering");this.orderList=t.data.sort(((t,e)=>new Date(e.odate)-new Date(t.odate))),console.log("Response:",t.data)}catch(t){console.error("Error fetching orderList:",t)}},async setOstatusMikey(t){try{const e=await _.A.post("/StatusUpdate",{ostatus_mikey:803,bnum:t.bnum,onum:t.onum});console.log("Response:",e.data)}catch(e){console.error("ostatus_mikey 값을 업데이트하는 중 오류 발생:",e)}}}};const z=(0,E.A)(U,[["render",Q]]);var G=z,H={name:"B_Ordering",components:{B_OrdSpecCard:D,B_Ordcard:G},data(){return{tabs:[{id:"home",name:"전체",orderStatus:null},{id:"OrderReady",name:"주문수락대기",orderStatus:802},{id:"Preparing",name:"조리중",orderStatus:803},{id:"Start",name:"배달시작",orderStatus:804},{id:"contact",name:"배달완료",orderStatus:805}],activeTabIndex:0,bnum:1003}},methods:{changeTab(t){this.activeTabIndex=t}}};const J=(0,E.A)(H,[["render",c]]);var N=J}}]);
//# sourceMappingURL=972.ba6fff05.js.map