"use strict";(self["webpackChunkv2_client"]=self["webpackChunkv2_client"]||[]).push([[298],{9298:function(a,e,t){t.r(e),t.d(e,{default:function(){return B}});var s=t(6768),i=t(4232),r=t(5130);const n=(0,s.Lk)("h2",{class:"main-title"},"내 친구 확인하기",-1),l=(0,s.Lk)("hr",{class:"my-4"},null,-1),d={id:"myInfo"},c=(0,s.Lk)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",fill:"currentColor",class:"bi bi-envelope-at-fill",viewBox:"0 0 16 16"},[(0,s.Lk)("path",{d:"M2 2A2 2 0 0 0 .05 3.555L8 8.414l7.95-4.859A2 2 0 0 0 14 2zm-2 9.8V4.698l5.803 3.546zm6.761-2.97-6.57 4.026A2 2 0 0 0 2 14h6.256A4.5 4.5 0 0 1 8 12.5a4.49 4.49 0 0 1 1.606-3.446l-.367-.225L8 9.586zM16 9.671V4.697l-5.803 3.546.338.208A4.5 4.5 0 0 1 12.5 8c1.414 0 2.675.652 3.5 1.671"}),(0,s.Lk)("path",{d:"M15.834 12.244c0 1.168-.577 2.025-1.587 2.025-.503 0-1.002-.228-1.12-.648h-.043c-.118.416-.543.643-1.015.643-.77 0-1.259-.542-1.259-1.434v-.529c0-.844.481-1.4 1.26-1.4.585 0 .87.333.953.63h.03v-.568h.905v2.19c0 .272.18.42.411.42.315 0 .639-.415.639-1.39v-.118c0-1.277-.95-2.326-2.484-2.326h-.04c-1.582 0-2.64 1.067-2.64 2.724v.157c0 1.867 1.237 2.654 2.57 2.654h.045c.507 0 .935-.07 1.18-.18v.731c-.219.1-.643.175-1.237.175h-.044C10.438 16 9 14.82 9 12.646v-.214C9 10.36 10.421 9 12.485 9h.035c2.12 0 3.314 1.43 3.314 3.034zm-4.04.21v.227c0 .586.227.8.581.8.31 0 .564-.17.564-.743v-.367c0-.516-.275-.708-.572-.708-.346 0-.573.245-.573.791"})],-1),o=(0,s.Lk)("hr",{class:"my-4"},null,-1),h={class:"search-area"},m=(0,s.Lk)("div",{class:"col-auto"},[(0,s.Lk)("label",{for:"friendSearch",class:"form-label"}," 닉네임으로 친구 검색 ")],-1),y={class:"col-auto"},u={class:"input-group"},k={class:"modal fade",id:"exampleModal",tabindex:"-1","aria-labelledby":"exampleModalLabel","aria-hidden":"true"},p={class:"modal-dialog modal-dialog-centered modal-dialog-scrollable"},L={class:"modal-content"},F=(0,s.Lk)("div",{class:"modal-header"},[(0,s.Lk)("h1",{class:"modal-title fs-5",id:"exampleModalLabel"},"검색된 친구 목록")],-1),f={class:"modal-body"},C={key:0},b={key:1},v=(0,s.Lk)("div",{class:"modal-footer"},[(0,s.Lk)("button",{type:"button",class:"btn btn-primary","data-bs-dismiss":"modal","aria-label":"Close"},"닫기")],-1),w=(0,s.Lk)("hr",{class:"my-4"},null,-1),g={class:"d-grid gap-2"},_=(0,s.Lk)("hr",{class:"my-4"},null,-1),E={key:0},M={class:"card text-center"},W=(0,s.Lk)("div",{class:"card-header"},[(0,s.Lk)("h5",{class:"card-title"},"나의 친구목록")],-1),x={class:"card-body"},A={key:1},S={class:"card text-center"},X=(0,s.Lk)("div",{class:"card-header"},[(0,s.Lk)("h5",{class:"card-title"},"요청대기중인 친구")],-1),D={class:"card-body"},Q={key:2},J={class:"card text-center"},R=(0,s.Lk)("div",{class:"card-header"},[(0,s.Lk)("h5",{class:"card-title"},"받은 요청")],-1),Y={class:"card-body"},z=["onClick"],I=["onClick"];function K(a,e,t,K,P,q){return(0,s.uX)(),(0,s.CE)(s.FK,null,[(0,s.Lk)("div",null,[n,l,(0,s.Lk)("div",d,[(0,s.Lk)("p",null,[(0,s.Lk)("strong",null,(0,i.v_)(P.myData.mnic),1),(0,s.eW)("님 안녕하세요!")]),(0,s.Lk)("p",null,[c,(0,s.eW)(" "+(0,i.v_)(P.myData.memail),1)])])]),o,(0,s.Lk)("div",h,[m,(0,s.Lk)("div",y,[(0,s.Lk)("div",u,[(0,s.bo)((0,s.Lk)("input",{type:"text","onUpdate:modelValue":e[0]||(e[0]=a=>P.friendSearchQuery=a),class:"form-control",id:"friendSearch",required:""},null,512),[[r.Jo,P.friendSearchQuery]]),(0,s.Lk)("button",{type:"submit",class:"btn btn-primary btn-primary-search","data-bs-toggle":"modal","data-bs-target":"#exampleModal",onClick:e[1]||(e[1]=(...a)=>q.showSearchFriend&&q.showSearchFriend(...a))}," 검색 ")])])]),(0,s.Lk)("div",k,[(0,s.Lk)("div",p,[(0,s.Lk)("div",L,[F,(0,s.Lk)("div",f,[P.searchFriend?(0,s.Q3)("",!0):((0,s.uX)(),(0,s.CE)("p",C,"검색된 닉네임이 없습니다")),201===P.searchFriend.mstatus_mikey?((0,s.uX)(),(0,s.CE)("p",b," - "+(0,i.v_)(P.searchFriend.mnic)+" - ",1)):(0,s.Q3)("",!0),201===P.searchFriend.mstatus_mikey?((0,s.uX)(),(0,s.CE)("button",{key:2,type:"button",class:"btn btn-primary",onClick:e[2]||(e[2]=(...a)=>q.fetchPlusFriend&&q.fetchPlusFriend(...a))},"친구추가")):(0,s.Q3)("",!0)]),v])])]),w,(0,s.Lk)("div",g,[(0,s.Lk)("button",{id:"friendList",type:"button",class:"btn btn-primary",onClick:e[3]||(e[3]=(...a)=>q.showFriendList&&q.showFriendList(...a))},"나의 친구목록 보기"),(0,s.Lk)("button",{id:"friendWait",type:"button",class:"btn btn-primary",onClick:e[4]||(e[4]=(...a)=>q.showFriendWait&&q.showFriendWait(...a))},"요청 대기중인 친구 보기"),(0,s.Lk)("button",{id:"friendCall",type:"button",class:"btn btn-primary",onClick:e[5]||(e[5]=(...a)=>q.showFriendCall&&q.showFriendCall(...a))},"받은 요청 보기")]),_,P.friendList?((0,s.uX)(),(0,s.CE)("div",E,[(0,s.Lk)("div",M,[W,(0,s.Lk)("div",x,[((0,s.uX)(!0),(0,s.CE)(s.FK,null,(0,s.pI)(P.myFriendList,(a=>((0,s.uX)(),(0,s.CE)("p",{class:"card-text",key:a}," - "+(0,i.v_)(a.mnic)+" - ",1)))),128))])])])):(0,s.Q3)("",!0),P.friendWait?((0,s.uX)(),(0,s.CE)("div",A,[(0,s.Lk)("div",S,[X,(0,s.Lk)("div",D,[((0,s.uX)(!0),(0,s.CE)(s.FK,null,(0,s.pI)(P.myFriendWait,(a=>((0,s.uX)(),(0,s.CE)("p",{class:"card-text",key:a}," - "+(0,i.v_)(a.mnic)+" - ",1)))),128))])])])):(0,s.Q3)("",!0),P.friendCall?((0,s.uX)(),(0,s.CE)("div",Q,[(0,s.Lk)("div",J,[R,(0,s.Lk)("div",Y,[((0,s.uX)(!0),(0,s.CE)(s.FK,null,(0,s.pI)(P.myFriendCall,((a,e)=>((0,s.uX)(),(0,s.CE)("p",{class:"card-text",key:e},[(0,s.eW)(" - "+(0,i.v_)(a.mnic)+" - ",1),(0,s.Lk)("button",{type:"button",class:"btn btn-primary",onClick:a=>q.acceptFriend(e)},"수락",8,z),(0,s.Lk)("button",{type:"button",class:"btn btn-secondary",onClick:a=>q.refuseFriend(e)},"거절",8,I)])))),128))])])])):(0,s.Q3)("",!0)],64)}var P=t(8355),q={data(){return{myFriendList:[],myFriendWait:[],myFriendCall:{},searchFriend:{},myData:{},friendList:!1,friendWait:!1,friendCall:!1,friendSearchQuery:""}},computed:{},mounted(){this.fetchMyData()},methods:{async fetchMyData(){try{const a=await P.A.post("/JY_C_MyFriend",{mnum:this.$store.state.userMnum});this.myData=a.data,console.log("Response:",a.data)}catch(a){console.error("Error fetching MyFriends:",a)}},async showFriendList(){try{const a=await P.A.post("/JY_C_MyFriendList",{mnum:this.myData.mnum});this.myFriendList=a.data,console.log("showFriendList clicked"),this.friendList=!0,this.friendWait=!1,this.friendCall=!1,console.log("Response:",a.data)}catch(a){console.error("Error showing MyFriendList:",a)}},async showFriendWait(){try{const a=await P.A.post("/JY_C_MyFriendWait",{mnum:this.myData.mnum});this.myFriendWait=a.data,console.log("showFriendWait clicked"),this.friendWait=!0,this.friendList=!1,this.friendCall=!1,console.log("Response:",a.data)}catch(a){console.error("Error showing MyFriendWait:",a)}},async showFriendCall(){try{const a=await P.A.post("/JY_C_MyFriendCall",{mnum:this.myData.mnum});this.myFriendCall=a.data,console.log("showFriendCall clicked"),this.friendCall=!0,this.friendList=!1,this.friendWait=!1,console.log("Response:",a.data)}catch(a){console.error("Error showing MyFriendCall:",a)}},async acceptFriend(a){try{this.myFriendCall[a].mfstatus_mikey=702;const e=await P.A.post("/JY_C_UpdateFriend",this.myFriendCall[a]);console.log("Response: ",e.data),await this.showFriendCall()}catch(e){console.error("Error accepting friend request:",e)}},async refuseFriend(a){try{this.myFriendCall[a].mfstatus_mikey=703;const e=await P.A.post("/JY_C_UpdateFriend",this.myFriendCall[a]);console.log("Response: ",e.data),await this.showFriendCall()}catch(e){console.error("Error accepting friend request:",e)}},async showSearchFriend(){try{const a=await P.A.post("/JY_C_MyFriendSearch",{mnic:this.friendSearchQuery});this.searchFriend=a.data,console.log("Search",this.friendSearchQuery),console.log("Response:",a.data)}catch(a){console.error("Error showing MyFriendSearch:",a)}},async fetchPlusFriend(){try{const a=await P.A.post("/JY_C_PlusFriend",{mnum:this.myData.mnum,mfnum:this.searchFriend.mnum,mfstatus_makey:700,mfstatus_mikey:701,from_id:this.myData.mnum});-1===a.data?alert("이미 친구이거나 추가 할 수 없는 상대입니다."):(console.log("kkkResponse:",a.data),alert("친구요청을 보냈습니다."))}catch(a){console.error("Error adding friend:",a),alert("친구 추가 중 오류가 발생했습니다.")}}}},U=t(1241);const V=(0,U.A)(q,[["render",K]]);var B=V}}]);
//# sourceMappingURL=298.d465a003.js.map