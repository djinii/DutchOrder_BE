{"version":3,"file":"js/971.2bbea049.js","mappings":"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","sources":["webpack://v2_client/./src/views/business/JY_B_ReviewList.vue","webpack://v2_client/./src/views/business/JY_B_ReviewList.vue?052d"],"sourcesContent":["<template>\r\n    <div id=\"pageName\">\r\n        <h2>리뷰목록 -사업자-</h2>\r\n    </div>\r\n    <hr class=\"my-4\" />\r\n    <!-- 작성별 드롭다운 -->\r\n    <div id=\"answerSort\" class=\"dropdown dropend\">\r\n        <button class=\"btn btn-secondary dropdown-toggle\" type=\"button\" data-bs-toggle=\"dropdown\" aria-expanded=\"false\">\r\n            {{ sortStatusText }}\r\n        </button>\r\n        <ul class=\"dropdown-menu\">\r\n            <li><a id=\"writeComplete\" class=\"dropdown-item\" @click=\"filterByStatus(1001)\">작성 미완료</a></li>\r\n            <li><a id=\"writeIncomplete\" class=\"dropdown-item\" @click=\"filterByStatus(1002)\">작성 완료</a></li>\r\n        </ul>\r\n    </div>\r\n    <!-- 시간별 드롭다운 -->\r\n    <div id=\"timeSort\" class=\"dropdown dropend\">\r\n        <button class=\"btn btn-secondary dropdown-toggle\" type=\"button\" data-bs-toggle=\"dropdown\" aria-expanded=\"false\">\r\n            {{ sortTimeText }}\r\n        </button>\r\n        <ul class=\"dropdown-menu\">\r\n            <li><a id=\"newest\" class=\"dropdown-item\" @click=\"sortNewest\">최신순</a></li>\r\n            <li><a id=\"oldest\" class=\"dropdown-item\" @click=\"sortOldest\">오래된순</a></li>\r\n        </ul>\r\n    </div>\r\n    <!-- 리뷰 리스트 -->\r\n    <div class=\"reviewList\">\r\n        <div v-for=\"review in filteredReviewList\" :key=\"review\">\r\n            <div class=\"d-grid gap-2 col-10 mx-auto\">\r\n                <button class=\"btn btn-outline-dark\" type=\"button\" @click=\"moveComment(review.rnum)\">\r\n                    <p class=\"text-start \">{{ review.strRdate }}</p>\r\n                    <span class=\"d-inline-block text-truncate\" style=\"max-width: 200px;\">\r\n                        {{ review.rcontent }}\r\n                    </span>\r\n                    <p class=\"text-end \">별점 : {{ review.rstar }} -- 닉네임 : {{ review.mnic }}</p>                                   \r\n                </button>\r\n            </div>\r\n        </div>\r\n    </div>\r\n</template>\r\n\r\n<script>\r\nimport axios from 'axios';\r\nexport default {\r\n    data() {\r\n        return {\r\n            listReview: [],  // 리뷰 리스트 정보를 저장할 객체\r\n            sortTimeText: '시간별 정렬',\r\n            sortStatusText: '작성별 정렬'\r\n        };\r\n    },\r\n    // 리뷰 리스트 마운트\r\n    mounted() {\r\n        this.fetchReviewList();\r\n    },\r\n    computed: {\r\n        filteredReviewList() {\r\n            if (this.sortStatusText === '작성 완료') {\r\n                console.log(this.listReview)\r\n                return this.listReview.filter(review => review.rstatus_mikey === 1002);\r\n            } else if (this.sortStatusText === '작성 미완료') {\r\n                console.log(this.listReview)\r\n                return this.listReview.filter(review => review.rstatus_mikey === 1001);\r\n            } else {\r\n                console.log(this.listReview)\r\n                return this.listReview;\r\n            }\r\n        }\r\n    },\r\n    methods: {\r\n        async fetchReviewList() {\r\n            try {\r\n                const response = await axios.post('/JY_B_ReviewList', {});\r\n                this.listReview = response.data.map(review => {\r\n                // 날짜 데이터를 올바른 포맷으로 수정\r\n                review.rdate = this.formatDate(review.rdate);\r\n                return review;\r\n                });\r\n                console.log('Response:', response.data)\r\n            } catch (error) {\r\n                console.error('Error fetching reviewList:', error);\r\n            }\r\n        },\r\n        async moveComment(rnum) {\r\n            try {\r\n                // 라우터를 사용하여 페이지 이동\r\n                this.$router.push({ path: \"/JY_B_ReviewComment\", query: { rnum } });\r\n            } catch (error) {\r\n                console.error('Error fetching reviewComment:', error);\r\n            }\r\n        },\r\n\r\n        formatDate(rdate) {\r\n            if (!rdate) return \"\"; // date 값이 없는 경우 빈 문자열 반환\r\n\r\n            const d = new Date(rdate);\r\n            if (isNaN(d.getTime())) return \"\"; // 유효하지 않은 날짜인 경우 빈 문자열 반환\r\n\r\n            // ISO 형식으로 변환한 날짜를 시간과 분까지만 포맷\r\n            return `${d.toISOString().slice(0, 16).replace('T', ' ')}`;\r\n        },\r\n\r\n        filterByStatus(status) {\r\n            if (status === 1002) {\r\n                this.sortStatusText = '작성 완료';\r\n            } else if (status === 1001) {\r\n                this.sortStatusText = '작성 미완료';\r\n            } \r\n        },\r\n\r\n        sortNewest() {\r\n            // rdate를 기준으로 최신순으로 정렬\r\n            this.listReview.sort((a, b) => new Date(b.rdate) - new Date(a.rdate));\r\n            this.sortTimeText = '최신순'; // 버튼 텍스트 변경\r\n            console.log(this.listReview);\r\n        },\r\n        sortOldest() {\r\n            // rdate를 기준으로 오래된순으로 정렬\r\n            this.listReview.sort((a, b) => new Date(a.rdate) - new Date(b.rdate));\r\n            this.sortTimeText = '오래된순'; // 버튼 텍스트 변경\r\n            console.log(this.listReview);\r\n        }\r\n    }\r\n}\r\n\r\n</script>\r\n\r\n<style>\r\n    .btn-outline-dark {\r\n        margin-top: 10px;\r\n        height: 100px;\r\n    }\r\n</style>","import { render } from \"./JY_B_ReviewList.vue?vue&type=template&id=8b426480\"\nimport script from \"./JY_B_ReviewList.vue?vue&type=script&lang=js\"\nexport * from \"./JY_B_ReviewList.vue?vue&type=script&lang=js\"\n\nimport \"./JY_B_ReviewList.vue?vue&type=style&index=0&id=8b426480&lang=css\"\n\nimport exportComponent from \"../../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__"],"names":["_createElementVNode","id","class","type","style","_createElementBlock","_Fragment","_hoisted_1","_hoisted_2","_hoisted_3","_hoisted_4","_toDisplayString","$data","sortStatusText","_hoisted_5","onClick","_cache","$event","$options","filterByStatus","_hoisted_6","_hoisted_7","sortTimeText","_hoisted_8","args","sortNewest","sortOldest","_hoisted_9","_renderList","filteredReviewList","review","key","_hoisted_10","moveComment","rnum","_hoisted_12","strRdate","_hoisted_13","rcontent","_hoisted_14","rstar","mnic","_hoisted_11","data","listReview","mounted","this","fetchReviewList","computed","console","log","filter","rstatus_mikey","methods","response","axios","post","map","rdate","formatDate","error","$router","push","path","query","d","Date","isNaN","getTime","toISOString","slice","replace","status","sort","a","b","__exports__","render"],"sourceRoot":""}