{"version":3,"file":"js/354.5e5b2333.js","mappings":"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","sources":["webpack://v2_client/./src/views/comm/JH_Login.vue","webpack://v2_client/./src/views/comm/JH_Login.vue?e7b8"],"sourcesContent":["<template>\n  <div class=\"container mt-2\">\n    <div class=\"row justify-content-center\">\n      <div class=\"col-md-6\">\n        <div class=\"card\">\n          <div class=\"card-header\">\n            <h3 class=\"text-center\">WELCOME</h3>\n            <h6 class=\"text-center\">각자 결제하는 배달시스템 더치오더입니다</h6>\n            <!-- <h3>({{ $route.params.level }})</h3> -->\n          </div>\n          <div class=\"card-body\">\n            <form @submit.prevent=\"login\">\n              <div class=\"mb-3\">\n                <label for=\"username\" class=\"form-label\">아이디</label>\n                <input\n                  type=\"text\"\n                  v-model=\"memail\"\n                  class=\"form-control\"\n                  id=\"username\"\n                  required\n                />\n              </div>\n              <div class=\"mb-3\">\n                <label for=\"password\" class=\"form-label\">비밀번호</label>\n                <input\n                  type=\"password\"\n                  v-model=\"mpw\"\n                  class=\"form-control\"\n                  id=\"password\"\n                  required\n                />\n              </div>\n              <button\n                @click=\"login\"\n                type=\"submit\"\n                class=\"btn btn-primary w-100\"\n              >\n                로그인\n              </button>\n              <button @click=\"goToJoin\" class=\"btn btn-primary w-100\">\n                회원가입\n              </button>\n            </form>\n            <div v-if=\"error\" class=\"alert alert-danger mt-2 error-message\">\n              {{ error }}\n            </div>\n            <div class=\"mt-2 text-center\">\n              <a href=\"#\" @click.prevent=\"findMyEmail\">아이디 찾기</a> |\n              <a href=\"#\" @click.prevent=\"findMyPw\">비밀번호 찾기</a>\n            </div>\n          </div>\n        </div>\n      </div>\n    </div>\n  </div>\n</template>\n\n<script>\nimport axios from \"axios\";\n\nexport default {\n  data() {\n    return {\n      // mnum: \"\",\n      memail: \"\",\n      mpw: \"\",\n      // mgroup_mikey: \"\",\n      error: \"\",\n    };\n  },\n  mounted() {\n    // 가져온 사용자 레벨 값으로 로직 수행\n    console.log(\"사용자 레벨:\", this.$route.params.level);\n    console.log(\"회원번호:\", this.$route.params.mnum);\n    console.log(\"회원번호:\", this.$route.params.bnum);\n  },\n  methods: {\n    async login() {\n      // 로그인 로직\n      // console.log(\"로그인 시도:\", this.memail, this.mpw);\n\n      // 아이디와 암호가 입력되었는지 확인\n      if (!this.memail || !this.mpw) {\n        this.error = \"아이디와 암호를 입력해주세요.\";\n        return;\n      }\n      try {\n        const loginResponse = await axios.post(\"/login\", {\n          memail: this.memail,\n          mpw: this.mpw,\n        });\n\n        if (loginResponse.data === true) {\n          const userLevel = await this.getUserLevel(this.memail);\n          const userMnum = await this.getUserMnum(this.memail);\n          const userBnum = await this.getUserBnum(this.memail);\n\n          // Vuex 스토어의 상태 업데이트\n          this.$store.commit(\"setLoginStatus\", true);\n          this.$store.commit(\"setUserLevel\", userLevel);\n          this.$store.commit(\"setUserMnum\", userMnum);\n          this.$store.commit(\"setUserBnum\", userBnum);\n\n          const path =\n            userLevel === 101\n              ? \"/client/home\"\n              : userLevel === 102\n              ? \"/business/home\"\n              : \"/admin/home\";\n          this.$router.push(path);\n        } else {\n          this.$store.commit(\"setLoginStatus\", false);\n          this.error = \"아이디 또는 비밀번호가 잘못되었습니다.\";\n        }\n      } catch (error) {\n        this.$store.commit(\"setLoginStaus\", false);\n        console.error(\"로그인 중 오류가 발생했습니다.\", error);\n        this.error = \"로그인 중 오류가 발생했습니다.\";\n      }\n    },\n\n    async getUserLevel(memail) {\n      console.log(memail);\n      // 사용자 레벨 불러오기\n      try {\n        const response = await axios.post(\"/getUserLevel\", {\n          memail,\n        });\n        return response.data; // 백엔드에서 받은 데이터를 반환\n      } catch (error) {\n        console.log(error);\n      }\n    },\n\n    async getUserMnum(memail) {\n      console.log(memail);\n      // 사용자 회원번호 불러오기\n      try {\n        const response = await axios.post(\"/getUserMnum\", {\n          memail,\n        });\n        return response.data; // 백엔드에서 받은 데이터를 반환\n      } catch (error) {\n        console.log(error);\n      }\n    },\n\n    async getUserBnum(memail) {\n      console.log(memail);\n      // 사용자 회원번호 불러오기\n      try {\n        const response = await axios.post(\"/getUserBnum\", { memail });\n        return response.data; // 백엔드에서 받은 데이터를 반환\n      } catch (error) {\n        console.log(error);\n      }\n    },\n\n    // 나머지 메서드들\n    goToJoin() {\n      // 회원가입 페이지로 이동하는 로직\n      const userLevel = this.$route.params.level;\n      this.$router.push({ path: `/${userLevel}/join` });\n      console.log(\"회원가입 페이지로 이동\");\n    },\n    findMyEmail() {\n      // 아이디 찾기 페이지로 이동하는 로직\n      const userLevel = this.$route.params.level;\n      this.$router.push({ path: `/${userLevel}/findMyEmail` });\n      console.log(\"아이디 찾기 페이지로 이동\");\n    },\n    findMyPw() {\n      const userLevel = this.$route.params.level;\n      this.$router.push({ path: `/${userLevel}/findMyPw` });\n      console.log(\"비밀번호 찾기 페이지로 이동\");\n    },\n  },\n};\n</script>\n\n<style scoped>\n.text-center {\n  margin-top: 10px;\n  margin-bottom: 10px;\n}\n\n.btn {\n  margin-top: 10px;\n  margin-bottom: 5px;\n  color: black;\n  background-color: #f5beae;\n  border-color: #f5beae;\n}\n\n.btn:hover {\n  background-color: #f5835d;\n}\n\n.error-message {\n  padding: 0.75rem 1.25rem;\n  margin-bottom: 1rem;\n  border: 1px solid transparent;\n  border-radius: 0.5rem;\n  text-align: center;\n  color: #000000;\n  background-color: #dae9e7;\n  border-color: #dae9e7;\n}\n</style>\n","import { render } from \"./JH_Login.vue?vue&type=template&id=0a763f47&scoped=true\"\nimport script from \"./JH_Login.vue?vue&type=script&lang=js\"\nexport * from \"./JH_Login.vue?vue&type=script&lang=js\"\n\nimport \"./JH_Login.vue?vue&type=style&index=0&id=0a763f47&scoped=true&lang=css\"\n\nimport exportComponent from \"../../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-0a763f47\"]])\n\nexport default __exports__"],"names":["class","_createElementVNode","for","key","_createElementBlock","_hoisted_1","_hoisted_2","_hoisted_3","_hoisted_4","_hoisted_5","_hoisted_6","onSubmit","_cache","_withModifiers","args","$options","login","_hoisted_7","_hoisted_8","type","$event","$data","memail","id","required","_hoisted_9","_hoisted_10","mpw","onClick","goToJoin","error","_hoisted_11","_toDisplayString","_createCommentVNode","_hoisted_12","href","findMyEmail","_createTextVNode","findMyPw","data","mounted","console","log","this","$route","params","level","mnum","bnum","methods","loginResponse","axios","post","userLevel","getUserLevel","userMnum","getUserMnum","userBnum","getUserBnum","$store","commit","path","$router","push","response","__exports__","render"],"sourceRoot":""}