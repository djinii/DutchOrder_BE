"use strict";(self["webpackChunkv2_client"]=self["webpackChunkv2_client"]||[]).push([[738],{2863:function(e,t,s){s.d(t,{A:function(){return X}});var o=s(6768),l=s(4232);const r={class:"list-unstyled"},n={class:"link-body-emphasis text-decoration-none border-top"},a={class:"hstack gap-3"},i={class:"p-2"},d={class:"mb-0"},c=(0,o.Lk)("small",{class:"text-body-secondary"},"옵션 : 없음",-1),u={class:"p-2 ms-auto"},m={class:"mb-0"};function p(e,t,s,p,h,b){const f=(0,o.g2)("DJ_C_SelFrd");return(0,o.uX)(),(0,o.CE)("ul",r,[(0,o.Lk)("li",null,[(0,o.Lk)("div",n,[(0,o.Lk)("div",a,[(0,o.Lk)("div",i,[(0,o.Lk)("p",d,[(0,o.eW)((0,l.v_)(s.menu.fname)+" ",1),(0,o.Lk)("span",null,(0,l.v_)(s.menu.fcnt)+" 개",1)]),c]),(0,o.Lk)("div",u,[(0,o.Lk)("h6",m,(0,l.v_)(s.menu.ftotal)+" 원",1)])])]),s.addFrd?((0,o.uX)(),(0,o.Wv)(f,{key:0,menu:s.menu,onUpdateSums:e.handleUpdateSums},null,8,["menu","onUpdateSums"])):(0,o.Q3)("",!0)])])}var h=s(5130);const b=["onUpdate:modelValue","disabled"],f=["value"],k=["onUpdate:modelValue","disabled"],L=["onClick","disabled"],v=(0,o.Lk)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",fill:"currentColor",class:"bi bi-dash-lg",viewBox:"0 0 16 16"},[(0,o.Lk)("path",{"fill-rule":"evenodd",d:"M2 8a.5.5 0 0 1 .5-.5h11a.5.5 0 0 1 0 1h-11A.5.5 0 0 1 2 8"})],-1),C=[v],y={class:"d-grid gap-1 d-md-block d-flex"},g=["disabled"];function F(e,t,s,r,n,a){return(0,o.uX)(),(0,o.CE)(o.FK,null,[((0,o.uX)(!0),(0,o.CE)(o.FK,null,(0,o.pI)(n.ordList,((e,t)=>((0,o.uX)(),(0,o.CE)("div",{class:"input-group mb-2",key:t},[(0,o.bo)((0,o.Lk)("select",{class:"form-select","onUpdate:modelValue":t=>e.ordname=t,disabled:this.completed},[((0,o.uX)(!0),(0,o.CE)(o.FK,null,(0,o.pI)(n.friends,((e,t)=>((0,o.uX)(),(0,o.CE)("option",{key:t,value:e},(0,l.v_)(e),9,f)))),128))],8,b),[[h.u1,e.ordname]]),(0,o.bo)((0,o.Lk)("input",{type:"text",class:"form-control","onUpdate:modelValue":t=>e.ordprice=t,disabled:this.completed},null,8,k),[[h.Jo,e.ordprice]]),(0,o.Lk)("button",{class:"btn btn-outline-secondary",type:"button",onClick:e=>a.rmForm(t),disabled:this.completed},C,8,L)])))),128)),(0,o.Lk)("div",y,[(0,o.Lk)("button",{class:"btn btn-primary col-6",type:"button",onClick:t[0]||(t[0]=(...e)=>a.addForm&&a.addForm(...e)),disabled:this.completed}," 추가 ",8,g),(0,o.Lk)("button",{class:"btn btn-primary col-6",type:"button",onClick:t[1]||(t[1]=e=>a.update())},(0,l.v_)(n.label),1)])],64)}s(4114);var _={data(){return{inputStatus:"",friends:["Friend1","Friend2","Friend3"],ordList:[],completed:!1,label:"완료",selectedFriends:[],inputAmounts:[],insert:0}},props:{menu:{type:Object}},watch:{},created(){console.log(this.menu.fname+this.menu.fcnt+"selFRD.vue"),this.selectedFriends[0]=this.friends[0],console.log(this.friends);for(let e=0;e<this.menu.fcnt;e++)this.ordList.push({ordname:this.friends[0],ordprice:this.menu.fprice}),console.log(this.menu.osfnum+"selFrd")},methods:{addForm(){this.ordList.push({osfnum:this.menu.osfnum,ordname:this.friends[0],ordprice:this.menu.fprice}),console.log(this.ordList)},rmForm(e){this.ordList.length>1?(this.ordList.splice(e,1),console.log(this.ordList),console.log(e)):alert("한개이상 입력하세요")},update(){if("완료"===this.label){let e=0;if(this.ordList.forEach((t=>{e+=parseInt(t.ordprice)})),console.log(e+"dooootodoatlt"),e>this.menu.ftotal||e<this.menu.ftotal)alert("금액을 확인하세요");else{this.completed=!0,this.label="수정";let e=[];this.ordList.forEach((t=>{let s=e.find((e=>e.ordname===t.ordname));s?s.ordprice+=Number(t.ordprice):e.push({osfnum:this.menu.osfnum,ordname:t.ordname,ordprice:Number(t.ordprice)})})),this.$store.commit("ordStore/ADD_ORD",e)}}else this.$store.commit("ordStore/RM_ORD",{osfnum:this.menu.osfnum,ordList:this.ordList.map((e=>e.ordname))}),this.completed=!1,this.label="완료"},eachPrice(){}}},w=s(1241);const x=(0,w.A)(_,[["render",F]]);var E=x,S={components:{DJ_C_SelFrd:E},props:{menu:{type:Object,required:!0},clickable:{type:Boolean,default:!0},addFrd:{type:Boolean,default:!1}},data(){return{}},methods:{showDetail(e){console.log(e)}}};const A=(0,w.A)(S,[["render",p]]);var X=A},1738:function(e,t,s){s.r(t),s.d(t,{default:function(){return D}});var o=s(6768),l=s(5130),r=s(4232);const n=(0,o.Lk)("div",{class:"container"},[(0,o.Lk)("div",{class:"py-4 text-center"},[(0,o.Lk)("h2",null,"주문정보 입력")]),(0,o.Lk)("hr",{class:"my-4",style:{"padding-bottom":"15px"}})],-1),a={class:"form-check form-switch"},i={class:"form-check-label",for:"flexSwitchCheckDefault"},d=(0,o.Fv)('<br><div class="mb-3"><label for="exampleFormControlInput1" class="form-label">주소</label><input class="form-control" type="text" value="봉수로250" readonly></div><div class="mb-3"><label for="exampleFormControlInput1" class="form-label">전화번호</label><div class="input-group mb-3"><input type="tel" class="form-control" placeholder="010-1234-1234"><button class="btn btn-outline-secondary" type="button" id="changeNum">변경</button></div><p class="text-start text-body-secondary" style="font-size:13px;"> * 주소를 정확히 입력해주세요. 잘못 입력된 경우 재배달 및 환불이 되지 않습니다.<br> * 부재시 여러 번 통화 시도 후 가까운 곳으로 임의로 배달될 수 있습니다- . </p></div><div class="mb-3"><label for="exampleFormControlTextarea1" class="form-label">요청사항</label><textarea class="form-control" id="exampleFormControlTextarea1" rows="3"></textarea></div><br><p id="frd" class="fw-semibold">주문내역</p>',6),c=(0,o.Lk)("br",null,null,-1),u={key:0,id:"send",class:"fw-semibold p-1 rounded"},m={href:"#send"},p={class:"d-grid gap-2"};function h(e,t,s,h,b,f){const k=(0,o.g2)("C_MenuLi"),L=(0,o.g2)("DJ_C_OrdLi");return(0,o.uX)(),(0,o.CE)(o.FK,null,[n,(0,o.Lk)("div",a,[(0,o.bo)((0,o.Lk)("input",{class:"form-check-input",type:"checkbox",role:"switch",id:"flexSwitchCheckDefault","onUpdate:modelValue":t[0]||(t[0]=e=>b.isChecked=e)},null,512),[[l.lH,b.isChecked]]),(0,o.Lk)("label",i,(0,r.v_)(f.label),1)]),d,((0,o.uX)(!0),(0,o.CE)(o.FK,null,(0,o.pI)(f.menus,(e=>((0,o.uX)(),(0,o.CE)("div",{key:e},[(0,o.bF)(k,{addFrd:b.addFrd,menu:e},null,8,["addFrd","menu"])])))),128)),c,this.show?((0,o.uX)(),(0,o.CE)("p",u,"결제 금액")):(0,o.Q3)("",!0),b.show?((0,o.uX)(),(0,o.Wv)(L,{key:1,total:f.total,receipt:b.receipt},null,8,["total","receipt"])):(0,o.Q3)("",!0),(0,o.Lk)("a",m,[(0,o.Lk)("div",p,[(0,o.Lk)("button",{class:"btn btn-primary",type:"button",onClick:t[1]||(t[1]=(...e)=>f.showRecLi&&f.showRecLi(...e))},(0,r.v_)(b.msg),1)])])],64)}var b=s(2863);const f={class:"p-2"},k={class:"mb-0"},L={class:"p-2 ms-auto"},v={class:"mb-0"},C={class:"hstack gap-2 fw-bold"},y=(0,o.Lk)("div",{class:"p-2"},"총 결제금액",-1),g={class:"p-2 ms-auto"},F=(0,o.Lk)("br",null,null,-1);function _(e,t,s,l,n,a){return(0,o.uX)(),(0,o.CE)(o.FK,null,[((0,o.uX)(!0),(0,o.CE)(o.FK,null,(0,o.pI)(s.receipt,(e=>((0,o.uX)(),(0,o.CE)("div",{key:e.item,class:"hstack gap-3"},[(0,o.Lk)("div",f,[(0,o.Lk)("p",k,(0,r.v_)(e.item),1)]),(0,o.Lk)("div",L,[(0,o.Lk)("h6",v,(0,r.v_)(e.amount)+" 원",1)])])))),128)),(0,o.Lk)("div",C,[y,(0,o.Lk)("div",g,(0,r.v_)(a.cal_total)+" 원",1)]),F],64)}var w={props:{total:{type:Number,required:!0},receipt:{type:Array,required:!0}},data(){return{modal:null}},created(){},computed:{cal_total(){let e=0;for(var t=0;t<2;t++)console.log(this.receipt);return e}},methods:{}},x=s(1241);const E=(0,x.A)(w,[["render",_]]);var S=E,A={beforeRouteLeave(e,t,s){if("/paying"!==e.path){let e=confirm("작성한 내용이 사라집니다.\n계속하시겠니까?");e?(this.$store.commit("ordStore/RM_ALL"),s()):s(!1)}s()},data(){return{isChecked:!1,addFrd:!1,ordList:[],msg:"금액 확인하기",show:!1,receipt:[]}},components:{DJ_C_OrdLi:S,C_MenuLi:b.A},created(){},watch:{isChecked(e){this.addFrd=e,this.isChecked&&(location.href="#frd"),console.log(this.addFrd)}},computed:{menus(){return this.$store.getters["cartStore/GET_CART_LIST"]},label(){return this.isChecked?"함께 주문하기":"혼자 주문하기"},total(){return this.$store.getters["cartStore/TOTAL_CART"]}},mounted(){console.log(this.receipt)},methods:{async showRecLi(){this.show?alert("결제요청 완료"):(await this.$store.commit("ordStore/CAL_SUM"),this.receipt=this.$store.getters["ordStore/GET_REC"],console.log(this.receipt,"!!!!!"),this.show=!0,this.msg="결제하기")}}};const X=(0,x.A)(A,[["render",h]]);var D=X}}]);
//# sourceMappingURL=738.46980d3d.js.map